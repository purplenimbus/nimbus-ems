"use strict";angular.module("nimbusEmsApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","siyfion.sfTypeahead","satellizer","chart.js","ngStorage"]).config(["$routeProvider","$locationProvider","$authProvider","apiConst","$sceDelegateProvider",function(e,t,a,i,s){s.resourceUrlWhitelist(["self","http://edu.nimbus.com:7070/**","http://graph.nimbus.com:8000/**"]),a.baseUrl="http://edu.nimbus.com:7070",a.loginUrl="/api/v1/login",e.when("/",{templateUrl:"views/dashboard.html",controller:"DashboardCtrl",controllerAs:"dashboard"}).when("/users/students",{templateUrl:"views/users.html",controller:"UsersCtrl",controllerAs:"student",resolve:{usersData:["eduApi","$window","apiConst","user",function(e,t,a,i){return e.api("GET",i.tenant.id+"/users?paginate="+a.componentPagination+"&page=1&user_type=student").then(function(e){return console.log("usersData result",e),e.data}).catch(function(e){console.log("usersData error",e),t.UIkit.notification({message:"Couldnt get usersData",status:"danger",pos:"top-right",timeout:5e3})})}]}}).when("/users/teachers",{templateUrl:"views/users.html",controller:"UsersCtrl",controllerAs:"teacher",resolve:{usersData:["eduApi","$window","apiConst","user",function(e,t,a,i){return e.api("GET",i.tenant.id+"/users?paginate="+a.componentPagination+"&page=1&user_type=teacher").then(function(e){return console.log("usersData result",e),e.data}).catch(function(e){console.log("usersData error",e),t.UIkit.notification({message:"Couldnt get usersData",status:"danger",pos:"top-right",timeout:5e3})})}]}}).when("/users/parents",{templateUrl:"views/users.html",controller:"UsersCtrl",controllerAs:"parent",resolve:{usersData:["eduApi","$window","apiConst","user",function(e,t,a,i){return e.api("GET",i.tenant.id+"/users?paginate="+a.componentPagination+"&page=1&user_type=parent").then(function(e){return console.log("usersData result",e),e.data}).catch(function(e){console.log("usersData error",e),t.UIkit.notification({message:"Couldnt get usersData",status:"danger",pos:"top-right",timeout:5e3})})}]}}).when("/users/other",{templateUrl:"views/users.html",controller:"UsersCtrl",controllerAs:"other",resolve:{usersData:["eduApi","$window","apiConst","user",function(e,t,a,i){return e.api("GET",i.tenant.id+"/users?paginate="+a.componentPagination+"&page=1&user_type=other").then(function(e){return console.log("usersData result",e),e.data}).catch(function(e){console.log("usersData error",e),t.UIkit.notification({message:"Couldnt get usersData",status:"danger",pos:"top-right",timeout:5e3})})}]}}).when("/profile/settings",{templateUrl:"views/account.html",controller:"AccountCtrl",controllerAs:"account"}).when("/inventory",{templateUrl:"views/inventory.html",controller:"InventoryCtrl",controllerAs:"inventory"}).when("/learning",{templateUrl:"views/learning.html",controller:"LearningCtrl",controllerAs:"learning"}).when("/learning/course/:id",{templateUrl:"views/course.html",controller:"CourseCtrl",controllerAs:"course",resolve:{}}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"login"}).when("/learning/courses",{templateUrl:"views/courses.html",controller:"CoursesCtrl",controllerAs:"courses",resolve:{coursesData:["eduApi","$window","apiConst","$localStorage","sweetAlert",function(e,t,a,i,s){var l=JSON.parse(i.auth);return console.log("before CoursesData",l),e.api("GET",l.tenant.id+"/courses?paginate="+a.widgetPagination+"&page=1").then(function(e){return console.log(e),e.data}).catch(function(e){console.log("eduApi course error",e),s.alert({title:"Something's Wrong",text:e.data.message,icon:"error",buttons:{confirm:s.button({text:"ok"})}})})}]}}).when("/register",{templateUrl:"views/register.html",controller:"RegisterCtrl",controllerAs:"register",resolve:{services:["graphApi","$window","apiConst",function(e,t,a){return e.api("GET","services?paginate="+a.componentPagination+"&page=1").then(function(e){return e.data}).catch(function(){t.UIkit.notification({message:"Couldnt get services",status:"danger",pos:"top-right",timeout:5e3})})}]}}).when("/settings",{templateUrl:"views/settings.html",controller:"SettingsCtrl",controllerAs:"settings"}).when("/tools",{templateUrl:"views/tools.html",controller:"ToolsCtrl",controllerAs:"tools"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$location","$cookies","$http","$auth","$window","$localStorage",function(e,a,t,i,s,l,n){e.globals=t.get("auth")||{},e.user=!!n.auth&&JSON.parse(n.auth),e.globals&&s.isAuthenticated()&&(i.defaults.headers.common.Authorization="Bearer "+s.getToken());var r=[];e.$on("$routeChangeStart",function(){l.UIkit.offcanvas("#side-menu").hide(),e.showLoader=!0}),e.$on("$routeChangeSuccess",function(){r.push(a.$$path),e.showLoader=!1}),e.$on("$locationChangeStart",function(){var t=!1;angular.forEach(["login","register"],function(e){t=a.path()!=="/"+e}),!s.isAuthenticated()&&t&&a.path("/login")})}]).filter("trusted",["$sce",function(t){return function(e){return t.trustAsResourceUrl(e)}}]),angular.module("nimbusEmsApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("nimbusEmsApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("nimbusEmsApp").controller("DashboardCtrl",["$scope","settings","$route","$window","$localStorage",function(e,t,a,i,s){e.user=JSON.parse(s.auth),e.dashboardSettings=t.getSettings("dashboard")}]),angular.module("nimbusEmsApp").directive("tasks",["modal","form","tasks","tasksConst","uikit3","$window","graphApi",function(o,u,e,s,c,l,n){return{templateUrl:"views/templates/tasks.html",restrict:"E",scope:!0,controller:["$scope","apiConst",function(r,t){r.widgetTitle="Tasks",r.tasks=[];var a=l.moment,e=a();r.search="";var i=!1;r.init=function(){r.loading=!0,n.api("GET",t.defaultTenantId+"/users/1/tasks?paginate="+t.widgetPagination+"&page=1").then(function(e){console.log("result",e),r.data=e.data,r.loading=!1}).catch(function(e){console.log("error",e),l.UIkit.notification({message:"Couldnt get tasks",status:"danger",pos:"top-right",timeout:5e3}),r.loading=!1}),r.newAsset={deadline:{date:new Date(e.format())}},r.newAsset.time=r.newAsset.deadline.date,console.log("Scope newAsset",e.get("time")),(i=new l.Bloodhound({datumTokenizer:function(e){return l.Bloodhound.tokenizers.whitespace(e.name)},queryTokenizer:l.Bloodhound.tokenizers.whitespace,remote:"http://ems.nimbus.com:8000/1/users/1/tasks"})).initialize(),console.log("init",i.ttAdapter()),r.tasksDataset={displayKey:"name",source:i.ttAdapter(),templates:{empty:["","No results were found ...",""].join("\n")}}},r.tasksOptions={displayKey:"name",minLength:2,highlight:!0,classNames:{dataset:"uk-dropdown"}},r.showAddTask=function(e){var t,a,i,s,l,n;r.newAsset=e||{},a=e?"Edit Task":"Add Task",s=e?"Edit":"Add",l=e?"pencil":"plus",n=e?'ng-click="saveTask(newAsset)"':'ng-click="addTask(newAsset)"',i='\t<div class="uk-margin">',i+=c.button({cls:"uk-width-1-1 uk-margin-small-bottom uk-button-primary",icon:l,label:s,directive:n}),i+="\t</div>",t={title:a,body:u.addTask(!0),footer:i},o.modal(t,r).then(function(e){r.modal=e})},r.addTask=function(e){console.log("addTask",a(e.deadline.date,"YYYY-MM-DD"),a(e.deadline.time,"hh:mm:ss")),r.tasks.push(e),r.newAsset={},r.modal.hide(),r.resetTypeAhead(),r.reset()},r.removeTask=function(e){console.log("removeTask",r.tasks[e]),r.tasks.splice(e,1)},r.completeTask=function(e){console.log("completeTask",r.tasks[e]),r.tasks[e].completed=!0},r.saveTask=function(e){console.log("saveTask",e),r.modal.hide(),r.reset()},r.resetTypeAhead=function(){(i=new l.Bloodhound({datumTokenizer:function(e){return console.log("bloodhound d",e),l.Bloodhound.tokenizers.whitespace(e.name)},queryTokenizer:l.Bloodhound.tokenizers.whitespace,local:r.tasks})).initialize()},r.reset=function(){console.log("Scope Reset"),r.newAsset={},console.log("init",i)},r.statusTypes=s().statusTypes,console.log("Tasks $scope",r),r.selectAll=function(e,t){e.map(function(e){e.selected=angular.element(t.target).get(0).checked})},r.next=function(e){console.log("get page",e,r.data),r.loading=!0,n.api("GET",t.defaultTenantId+"/users/1/tasks?paginate="+t.widgetPagination+"&page="+e).then(function(e){r.data=e.data,i.initialize(!0),r.loading=!1}).catch(function(e){console.log("graphApi error",e)})},r.prev=function(e){console.log("get page",e,r.data),r.loading=!0,n.api("GET",t.defaultTenantId+"/users/1/tasks?paginate="+t.widgetPagination+"&page="+e).then(function(e){r.data=e.data,i.initialize(!0),r.loading=!1}).catch(function(e){console.log("graphApi error",e)})},r.init()}],link:function(e,t){t.on("$destroy",function(){e.$destroy()})}}}]),angular.module("nimbusEmsApp").factory("graphApi",["$http",function(i){var s=this;return s.apiEndPoint="http://graph.nimbus.com:8000/v1/",{apiEndPoint:s.apiEndPoint,api:function(e,t,a){switch(e){case"GET":return i.jsonp(s.apiEndPoint+t,{method:e});case"POST":return i.jsonp(s.apiEndPoint+t,{method:e,data:a})}}}}]).factory("fmsApi",["$http",function(i){var s="http://fms.nimbus.com:9090/";return{api:function(e,t,a){switch(e){case"GET":return i.get(s+t);case"POST":return i.post(s+t,a)}}}}]).factory("eduApi",["$http",function(i){var s=this;return s.apiEndPoint="https://nimbus-learning-api.herokuapp.com/api/v1/",{apiEndPoint:s.apiEndPoint,api:function(e,t,a){switch(e){case"GET":return i.get(s.apiEndPoint+t);case"POST":return i.post(s.apiEndPoint+t,a)}}}}]).factory("user",["$localStorage",function(e){return!!e.auth&&JSON.parse(e.auth)}]),angular.module("nimbusEmsApp").service("modal",["$window","uikit3","$q","$compile",function(s,l,n,r){this.modal=function(e,t){var a,i=n.defer();return angular.element(".uk-offcanvas-content").append(r(l.modal(e))(t)),(a=s.UIkit.modal("#modal")).show(),angular.element("#modal").on({"show.uk.modal":function(){console.log("Modal is visible.")},"hide.uk.modal":function(){angular.element(this).remove(),angular.element("html").removeClass("uk-modal-page")}}),i.resolve(a),i.promise}}]),angular.module("nimbusEmsApp").service("form",["uikit3",function(i){this.build=function(e,t){var a="";return a+=t?'<form action="javascript:void(0)">':"",e.forEach(function(e){switch(typeof e){case"object":e.type&&(a+=i[e.type](e.attrs?e.attrs:{}));break;default:a+=e}}),a+=t?"</form>":""},this.login=function(){var e="";return e+='<form class="uk-form-stacked">',e+='\t<div class="uk-margin">',e+=i.inputIcon({model:"email",icon:"user",type:"text",placeholder:"email",required:!0}),e+="\t</div>",e+='\t<div class="uk-margin">',e+=i.inputIcon({model:"password",icon:"lock",type:"password",placeholder:"password",required:!0}),e+="\t</div>",e+='\t<div class="uk-margin">',e+=i.button({cls:"uk-width-1-1 uk-margin-small-bottom uk-button-primary",icon:"sign-in",label:"login",directive:'ng-click="login({ email:this.email , password: this.password },$event)"'}),e+="\t</div>",e+="</form>"},this.addMedia=function(){var e="";return e+='<form class="uk-form-stacked">',e+='\t<div class="uk-margin">',e+=i.inputIcon({model:"Title",icon:"user",type:"text",placeholder:"Title"}),e+="\t</div>",e+='\t<div class="uk-margin">',e+=i.select({directive:'ng-model="type"',options:""}),e+="\t</div>",e+='\t<div class="uk-margin">',e+=i.upload(),e+="\t</div>",e+='\t<div class="uk-margin">',e+=i.textarea({directive:'ng-model="description"',placeholder:"description"}),e+="\t</div>",e+='\t<div class="uk-margin">',e+=i.button({cls:"uk-width-1-1 uk-margin-small-bottom uk-button-primary",icon:"sign-in",label:"Add",directive:'ng-click="uploadData()"'}),e+="\t</div>",e+="</form>"},this.addTask=function(e){var t="";return t+='<form class="uk-form-stacked">',t+='\t<div class="uk-margin">',t+=i.inputIcon({model:"newAsset.name",icon:"user",type:"text",placeholder:"Name",required:!0}),t+="\t</div>",t+='\t<div class="uk-margin">',t+=i.textarea({directive:'ng-model="description"',placeholder:"Description",model:"newAsset.description"}),t+="\t</div>",t+='\t<div class="uk-margin uk-grid-small uk-child-width-1-2" uk-grid>',t+='\t\t<div class="">',t+=i.input({model:"newAsset.deadline.date",type:"date",icon:"calendar",placeholder:"Deadline Date"}),t+="\t\t</div>",t+='\t\t<div class="">',t+=i.input({model:"newAsset.deadline.time",type:"time",icon:"clock",placeholder:"Deadline Time"}),t+="\t\t</div>",t+="\t</div>",t+='\t<div class="uk-margin">',t+=i.select({options:"statusTypes",directive:'ng-model="newAsset.status"'}),t+="\t</div>",t+="</form>"},this.addRequest=function(e){var t="";return t+=i.table(e,"request")},this.editCourse=function(e){var t="";return t+="<form>",t+='\t<div class="uk-margin uk-grid-small" uk-grid>',t+='\t\t<div class="uk-width-1-1">',t+=i.inputIcon({model:e+".name",icon:"user",type:"text",required:!0,placeholder:"Course Title",cls:"uk-text-capitalize"}),t+="\t\t</div>",t+="\t</div>",t+='\t<div class="uk-margin uk-grid-small" uk-grid>',t+='\t\t<div class="uk-width-1-2@m uk-width-1-2@xs">',t+=i.typeahead({directive:'datasets="subjectsDataSet" options="subjectsOptions" ng-model="'+e+'.meta.subject" sf-typeahead',type:"text",required:!0,cls:"uk-input uk-search-input uk-width-1-1 typeahead uk-text-capitalize",placeholder:"Subject"}),t+="\t</div>",t+='\t\t<div class="uk-width-1-2@m uk-width-1-2@xs">',t+='\t\t\t<select class="uk-select" ng-model="asset.meta.course_grade_id" ng-options="class.id as class.name for class in classes"></select>',t+="\t\t</div>",t+="\t</div>",t+='\t<div class="uk-margin typeahead">',t+=i.typeahead({directive:'datasets="instructorsDataSet" options="instructorsOptions" ng-model="'+e+'.meta.instructor" sf-typeahead',type:"text",required:!0,cls:"uk-input uk-search-input uk-width-1-1 typeahead uk-text-capitalize",placeholder:"Instructor"}),t+="\t</div>",t+='\t<p class="uk-text-small uk-heading-line uk-text-center uk-text-uppercase uk-text-small" ng-click="showAdvanced = !showAdvanced"><span>',t+="\t\tCourse Breakdown  ",t+='\t\t<span ng-if="!showAdvanced">[expand]</span>',t+='\t\t<span ng-if="showAdvanced">[hide]</span>',t+="\t</span></p>",t+='\t<div ng-if="showAdvanced">',t+='\t\t<div class="uk-margin">',t+="\t\t\t<ul uk-grid>",t+='\t\t\t\t<li ng-repeat="schema in getSchema()">'+i.checkbox({label:" {{ schema | uppercase }}",directive:'ng-model="'+e+'.meta.course_schema[schema].enabled"',checked:!0})+"</li>",t+="\t\t\t</ul>",t+="\t\t</div>",t+='\t\t<div class="uk-margin">',t+="\t\t\t<ul uk-grid>",t+='\t\t\t<li class="uk-width-1-1" ng-repeat="schema in getSchema()" ng-if="'+e+'meta.course_schema[schema].enabled">',t+=i.range({directive:'ng-model="'+e+'.meta.course_schema[schema].value"',type:"range",cls:"uk-range",label:"{{schema | uppercase }} {{ "+e+".meta.course_schema[schema].value }}",min:0,max:100,step:5}),t+="\t\t\t</li>",t+="\t\t\t</ul>",t+="\t\t</div>",t+="\t</div>",t+='\t<div class="uk-margin">',t+=i.textarea({model:e+".meta.comments",placeholder:"Comments",label:!1}),t+="\t</div>",t+="</form>"}}]),angular.module("nimbusEmsApp").service("offcanvas",["$window","uikit3","$compile",function(a,i,s){this.offcanvas=function(e){return this.offcanvas.type=e,a.UIkit.offcanvas("#side-menu")},angular.element("#side-menu").on("hidden",function(){}).on("shown",function(){}),this.open=function(e,t){angular.element("#uk-offcanvas-content").append(s(i.offcanvas(e))(t)),a.UIkit.offcanvas("#offcanvas").show(),angular.element("#offcanvas").on("hidden",function(){t.offCanvasOpen=!1,angular.element(this).remove()})},this.close=function(){a.UIkit.offcanvas("#offcanvas").hide()}}]),angular.module("nimbusEmsApp").factory("uikit3",function(){return{input:function(e){var t="";return t+=e.label?'<label class="uk-form-label uk-text-capitalize" for="form-stacked-text">'+e.label+"</label>":"",t+="<input ",e.cls&&(t+='class="',t+="range"!==e.type?"uk-input":e.cls,t+='" '),t+=e.type?' type="'+e.type+'" ':' type="text" ',t+=e.model?' ng-model="'+e.model+'" ':"",t+=e.directive?e.directive:"",t+=e.placeholder?' placeholder="'+e.placeholder+'" ':"",t+=e.name?'name="'+e.name+'"':"","range"===e.type&&(t+=e.min?' min="'+e.min+'" ':"",t+=e.max?' max="'+e.max+'" ':"",t+=e.value?' value="'+e.value+'" ':"",t+=e.step?' step="'+e.step+'" ':""),t+=e.required?"required":"",t+=">"},inputIcon:function(e){var t="";return t+='<div class="uk-inline uk-width-1-1">',t+='<a class="uk-form-icon uk-form-icon-flip" href=""',t+=e.icon?'uk-icon="icon: '+e.icon+'"':'uk-icon="icon: "',t+="></a>",t+=this.input(e),t+="</div>"},button:function(e){var t="";return t+="<button ",t+=e.cls?'class="uk-button '+e.cls+'"':'class="uk-button uk-button-primary"',t+=e.directive?e.directive:"",t+='">',t+=e.icon?'<span uk-icon="icon: '+e.icon+'"></span>':"",t+=e.label?e.label:"",t+="</button>"},textarea:function(e){var t="";return t+=e.label?'<label class="uk-form-label uk-text-capitalize" for="form-stacked-text">'+e.label+"</label>":"",t+="<textarea ",t+=e.cls?'class="uk-textarea '+e.cls+'"':'class="uk-textarea"',t+=e.placeholder?'placeholder="'+e.placeholder+'"':"",t+=e.model?'ng-model="'+e.model+'"':"",t+=e.name?'name="'+e.name+'"':"",t+='">',t+="</textarea>"},range:function(e){return this.input(e)},select:function(e){var t="";return t+=e.placeholder?'<label class="uk-form-label uk-text-capitalize" for="form-stacked-text">'+e.placeholder+"</label>":"",t+="<select ",t+=e.cls?'class="uk-select '+e.cls+'"':'class="uk-select"',t+=e.placeholder?'placeholder="'+e.placeholder+'"':"",t+=e.directive?e.directive:"",t+=e.name?'name="'+e.name+'"':"",t+='"></select>'},checkbox:function(e){var t="";return t+='<label><input type="checkbox" ',t+=e.name?'name="'+e.name+'"':"",t+=e.cls?'class="uk-checkbox '+e.cls+' "':"",t+=e.directive?e.directive:"",t+=e.checked?"checked":"",t+=">",t+=e.label?e.label:"",t+="</label>"},upload:function(e){var t="";return t+=e.placeholder?'<label class="uk-form-label uk-text-capitalize" for="form-stacked-text">'+e.placeholder+"</label>":"",t+='<div class="js-upload uk-placeholder uk-text-center">',t+='\t<span uk-icon="icon: cloud-upload"></span>',t+='\t<span class="uk-text-middle">Attach binaries by dropping them here or</span>',t+="\t<div uk-form-custom>",t+='\t\t<input type="file" multiple>',t+='\t\t<span class="uk-link">selecting one</span>',t+="\t</div>",t+="</div>"},offcanvas:function(e){var t='<div id="offcanvas" uk-offcanvas="flip: true;mode: push">';return t+='<div class="uk-offcanvas-bar">',t+=e.title?e.title:"",t+=e.body?e.body:"",t+='<button class="uk-offcanvas-close" type="button" uk-close></button>',t+="</div>",t+="</div>"},modal:function(e){var t="",a="uk-modal-close-default";return e.type&&"full"===e.type&&(e.wrapperCls+=" uk-modal-full",a="uk-modal-close-full uk-close-large"),t+='<div id="modal" ',t+=e.wrapperCls?'class="'+e.wrapperCls+'"':"",t+=e.directive?e.directive:"",t+="uk-modal>",t+='\t<div class="uk-modal-dialog ',t+=e.cls?e.cls+'"':'"',t+=">",t+='\t\t<button class="'+a+'" type="button" uk-close></button>',e.type&&"full"===e.type?t+=e.body?this.fullModalBody(e):"":(t+=e.title?'<div class="uk-modal-header"><h2 class="uk-modal-title uk-text-capitalize">'+e.title+"</h2></div>":"",t+=e.body?'\t\t<div class="uk-modal-body uk-padding-small">'+e.body+"</div>":"",t+=e.footer?'\t\t<div class="uk-modal-footer">'+e.footer+"</div>":""),t+="\t</div>",t+="</div>"},fullModalBody:function(e){var t="";return t+='<div class="uk-grid-collapse ',t+=e.image?"uk-child-width-1-2@s":"uk-child-width-1-1@s",t+=' uk-flex-middle" uk-grid>',t+=e.image?'<div class="uk-background-cover" ':"",t+=e.image?'style="background-image: url('+e.image+');" ':"",t+=e.image?"uk-height-viewport></div>":"",t+='<div class="uk-padding-large">',t+=e.title?e.title:"",t+=e.body?e.body:"",t+="</div>",t+="</div>"},table:function(e,t){var a="",i="";switch(t){case"request":i+="  <thead>",i+='\t  <tr class="uk-text-small">',i+='\t\t  <th class="uk-table-shrink"><input class="uk-checkbox" type="checkbox" ng-click="selectRows(all)"></th>',i+='\t\t  <th class="uk-table-expand">Description</th>',i+='\t\t  <th class="uk-table-shrink">Quantity</th>',i+='\t\t  <th class="uk-width-small">Cost</th>',i+='\t\t  <th class="uk-width-small">Total</th>',i+='\t\t  <th class="uk-width-small"><a uk-icon="icon: plus-circle" ng-click="addRow()">add</a></th>',i+="\t  </tr>",i+="  </thead>",i+="  <tbody>",i+='\t  <tr ng-repeat="item in newAsset.items" class="uk-text-small">',i+='\t\t  <td><input class="uk-checkbox" type="checkbox" ng-model="item.selected"></td>',i+='\t\t  <td><input class="uk-input uk-form-blank" type="text" ng-model="item.description"></td>',i+='\t\t  <td><input class="uk-input uk-form-blank" type="number" ng-model="item.quantity"></td>',i+='\t\t  <td><input class="uk-input uk-form-blank" type="number" ng-model="item.cost" step="0.5"></td>',i+='\t\t  <td><input class="uk-input uk-form-blank" type="number" ng-value="item.cost * item.quantity"></td>',i+="\t\t  <td>",i+='\t\t\t <ul class="uk-iconnav">',i+='\t\t\t   <li><a uk-icon="icon: minus-circle" class="uk-text-danger" ng-click="removeRow($index)"></a></li>',i+="\t\t\t</ul>",i+="\t\t  </td>",i+="\t  </tr>",i+="  </tbody>"}return a+='<table class="uk-table uk-table-middle uk-table-divider uk-margin-remove">',a+=i,a+="</table>"},typeahead:function(e){var t="";return t+=this.input(e)},typeaheadPreview:function(e){var t="";return t+='<article class="uk-comment uk-padding-small">',t+='\t<header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove" uk-grid>',e.image&&(t+='\t\t<div class="uk-width-auto uk-padding-remove image">',t+='\t\t\t<img class="uk-comment-avatar" src="'+e.image+'" width="30" height="30" alt="">',t+="\t\t</div>"),e.title&&(t+='\t\t<div class="uk-width-expand title">',t+='<h4 class="uk-comment-title uk-margin-remove uk-text-small"><a class="uk-link-reset" href="#">'+e.title+"</a></h4>",t+="\t\t</div>"),t+="\t</header>",e.description&&(t+='\t<div class="uk-comment-body">',t+="\t\t<p>"+e.description+"</p>",t+="\t</div>"),t+="</article>"},card:function(e){var t="";return e.classes||(e.classes={}),t+='<div class="uk-card ',t+=e.classes.card?e.classes.card:"",t+='">',e.image&&(t+='<div class="uk-card-media-top">',t+='<img src="'+e.image.url+'"',t+=(e.image.title,e.image.title),t+=">",t+="</div>"),e.header&&(t+='<div class="uk-card-header ',t+=e.classes.header?e.classes.header:"",t+='">',t+='<h3 class="uk-card-title uk-text-capitalize">'+e.header+"</h3>",t+="</div>"),t+='<div class="uk-card-body ',e.classes&&(t+=e.classes.body?e.classes.body:""),t+='">',t+=e.body,t+="</div>",e.footer&&(t+='<div class="uk-card-footer ',e.classes&&(t+=e.classes.footer?e.classes.footer:""),t+='">',t+=e.footer,t+="</div>"),t+="</div>"},icons:function(e){var t="";return t='<ul class="uk-iconnav">',e.forEach(function(e){t+="<li ",t+=e.directive?e.directive:"",t+=">",t+='<a uk-icon="icon: ',t+=e.icon?e.icon:"",t+='"',t+=e.cls?' class="'+e.cls+'"':"",t+=e.action?' ng-click="'+e.action+'"':"",t+=(e.tooltip,""),t+="></a>",t+="</li>"}),t+="</ul>"},section:function(e){var t="";return t+='<div class="uk-section uk-section-default" ',t+=e.directive?e.directive:"",t+=">",t+='    <div class="uk-container">',t+="        <h3>",t+=e.title?e.title:"",t+="\t\t</h3>",t+="        <div>",t+=e.body?e.body:"",t+="        </div>",t+="    </div>",t+="</div>"}}}),angular.module("nimbusEmsApp").controller("TasksCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("nimbusEmsApp").service("tasks",["$http",function(t){this.endpoint="http://localhost:8000",this.getTasks=function(e){return t({method:e.method,url:this.endpoint+"/"+e.companyId+"/"+e.userId+"/tasks"})},this.getCompanyTasks=function(e){return t({method:e.method,url:this.endpoint+"/"+e.companyId+"/tasks"})}}]),angular.module("nimbusEmsApp").controller("NavCtrl",["$scope","offcanvas","modal","form","settings","$route","$rootScope","validation","$auth","auth","$location","breadcrumbs","user","$window",function(s,e,a,t,i,l,n,r,o,u,c,d,m,k){s.route=l,s.loggedin=!1,s.offcanvas=e.offcanvas,s.showLogin=function(){var e={title:"Login",body:t.login(),footer:!1};a.modal(e,s).then(function(e){s.modal=e})},s.closeModal=function(){k.UIkit.modal("#modal").hide()},s.login=function(e,t){s.loginLoading=!0;var a=angular.element(t.currentTarget).parents()[1],i={email:e.email,password:e.password};r.validate(a).then(function(e){console.log(e),angular.element("#modal .uk-modal-spinner").removeClass("uk-hidden"),e.valid?o.login(i).then(function(e){s.loginLoading=!1,console.log("Data",e),angular.element("#modal .uk-modal-dialog").removeClass("error").addClass("success"),angular.element("#modal .uk-alert").removeClass("uk-hidden uk-alert-danger").addClass("uk-alert-success").children("p").html("Logged In Successfully"),n.user={},console.log("Logged in Rootscope",n),console.log("Logged in Auth",o.isAuthenticated()),console.log("Logged in token",o.getToken()),console.log("Logged in payload",o.getPayload()),u.setCookie("auth",JSON.stringify(e.data.user),9),n.user.info=e.data.user,angular.element("#modal .uk-modal-spinner").addClass("uk-hidden"),s.closeModal(),c.path("/")}).catch(function(e){s.loginLoading=!1,console.log("Login Error",e),angular.element("#modal .uk-modal-dialog").removeClass("success").addClass("error"),angular.element("#modal .uk-modal-spinner").addClass("uk-hidden"),angular.element("#modal .uk-alert").removeClass("uk-hidden uk-alert-success").addClass("uk-alert-danger").children("p").html("Invalid Login")}):console.log(e)})},s.authenticate=function(e){o.authenticate(e).then(function(e){console.log("Auth Data",e),s.authLoading=!1,angular.element("#modal .uk-modal-dialog").removeClass("error").addClass("success"),angular.element("#modal.login form input").removeClass("uk-form-danger").addClass("uk-form-success"),angular.element("#modal .uk-alert").removeClass("uk-hidden uk-alert-danger").addClass("uk-alert-success").children("p").html("Logged In Successfully"),n.user={},console.log("Logged in Rootscope",n),console.log("Logged in Auth",o.isAuthenticated()),console.log("Logged in token",o.getToken()),console.log("Logged in payload",o.getPayload()),u.setCookie("auth",JSON.stringify(e.data.user),9),n.user.info=e.data.user,angular.element("#modal .uk-modal-spinner").addClass("uk-hidden"),s.closeModal(),l.reload()}).catch(function(e){s.authLoading=!1,angular.element("#modal .uk-modal-dialog").removeClass("success").addClass("error"),angular.element("#modal.login form input").removeClass("uk-form-success").addClass("uk-form-danger"),angular.element("#modal .uk-modal-spinner").addClass("uk-hidden"),angular.element("#modal .uk-alert").removeClass("uk-hidden uk-alert-success").addClass("uk-alert-danger"),e&&angular.element("#modal .uk-alert").children("p").html(e)})},s.logout=function(){o.logout(),u.clearUser(s),c.path("/login")},s.showSettings=function(e){var t;t={title:"Settings",body:'<ul class="uk-list uk-list-divider">\t<li ng-repeat="(key , setting) in settings" class="uk-clearfix">\t<div class="uk-align-left uk-margin-remove">\t\t<p class="uk-margin-remove">{{ key | uppercase }}</p>\t</div>\t<div class="uk-align-right">\t\t<input class="uk-checkbox" type="checkbox" ng-model="setting.display" ng-disabled="setting.disabled">\t</div>\t</li></ul>',footer:!1},s.settings=i.getSettings(e),a.modal(t,s).then(function(e){s.modal=e})},s.navSettings=i.getSettings("nav"),s.breadcrumbs=d.parse(c.path()),s.auth=o}]),angular.module("nimbusEmsApp").service("settings",function(){this.settings={dashboard:{tasks:{display:!1,disabled:!0},reports:{display:!1,disabled:!1},activities:{display:!1,disabled:!0},employees:{display:!0,disabled:!1},requests:{display:!1,disabled:!0},myCourses:{display:!0,disabled:!1}},learningDashboard:{myCourses:{display:!0,disabled:!1},activities:{display:!1,disabled:!0}},nav:{dashboard:{display:!0,disabled:!1,icon:"home",url:"",access_level:1},learning:{display:!0,disabled:!1,icon:"laptop",url:"learning",access_level:3,children:{courses:{display:!0,disabled:!1,icon:"thumbnails",url:"learning/courses",access_level:3},students:{display:!0,disabled:!1,icon:"users",url:"users/students",access_level:3},teachers:{display:!0,disabled:!1,icon:"user",url:"users/teachers",access_level:3},parents:{display:!0,disabled:!1,icon:"happy",url:"users/parents",access_level:3},other:{display:!0,disabled:!1,icon:"hashtag",url:"users/other",access_level:3}}}}},this.getSettings=function(e){return this.settings[e]}}),angular.module("nimbusEmsApp").constant("tasksConst",function(){return{statusTypes:[{id:1,name:"in progress"},{id:2,name:"completed"},{id:3,name:"unassigned"},{id:4,name:"deleted"}]}}),angular.module("nimbusEmsApp").service("moment",function(){}),angular.module("nimbusEmsApp").service("validation",["$q",function(n){return{validate:function(e){var t=n.defer(),a=[],i=angular.element(e),s=0,l=i.find("input").length;return i.find("input").each(function(){var e=angular.element(this);e[0].required?e.val()?(e.removeClass("uk-form-success").removeClass("uk-form-danger").addClass("uk-form-success"),a.push({name:e[0].name,value:e.val(),validated:!0}),s++):(e.removeClass("uk-form-success").removeClass("uk-form-danger").addClass("uk-form-danger"),a.push({name:e[0].name,value:e.val(),validated:!1})):(e.parent().removeClass("uk-form-danger").addClass("uk-form-success"),a.push({name:e[0].name,value:e.val(),validated:!0}))}),s===l?t.resolve({valid:!0,form:e}):t.resolve({valid:!1,form:e}),t.promise}}}]),angular.module("nimbusEmsApp").service("auth",["$q","$http","$rootScope","$localStorage",function(e,t,a,i){return{objectToQuerystring:function(e){var t="";if("undefined"!==e){t="?";for(var a=0;a<Object.keys(e).length;a++)t+=Object.keys(e)[a]+"="+e[Object.keys(e)[a]],t+=Object.keys(e)[a+1]?"&":""}return encodeURI(t)},clearUser:function(){delete i.auth,delete a.user,delete t.defaults.headers.common.Authorization}}}]),angular.module("nimbusEmsApp").directive("requests",["modal","form","tasks","tasksConst","uikit3",function(o,u,e,t,c){return{templateUrl:"views/templates/requests.html",restrict:"E",scope:!0,controller:["$scope",function(r){r.widgetTitle="Requests",r.selected=[],r.init=function(){r.requests=[{name:"Provisions needed for the secondary school",items:[{description:"Carton of Juice",quantity:10,cost:2},{description:"Crates of Beer",quantity:5,cost:10},{description:"Bread",quantity:12,cost:1.25},{description:"Diesel",quantity:1,cost:150}]},{name:"two",items:[]},{name:"three",items:[]},{name:"four",items:[]}]},r.showAddRequest=function(e){var t,a,i,s,l,n;r.newAsset=e||{items:[{description:"",quantity:1,cost:0}]},a=e?"Edit Request":"Add Request",s=e?"Edit":"Submit",l=e?"pencil":"plus",n=e?'ng-click="submitRequest(newAsset)"':'ng-click="addRequest(newAsset)"',i='\t<div class="uk-margin">',i+=c.button({cls:"uk-margin-small-bottom uk-button-primary",icon:l,label:s,directive:n}),i+=c.button({cls:"uk-margin-small-bottom uk-button-default",icon:"cloud-upload",label:"save request",directive:'ng-click="saveRequest(newAsset)"'}),i+="\t</div>",t={title:a,body:u.addRequest(r.newAsset.items),footer:i,wrapperCls:"uk-modal-container"},o.modal(t,r).then(function(e){r.modal=e})},r.addRow=function(){r.newAsset.items.push({description:"",quantity:1}),r.calculateRequestTotal()},r.removeRow=function(e){r.newAsset.items.splice(e,1),r.calculateRequestTotal()},r.addRequest=function(e){console.log("addRequest",e),r.requests.push(e),r.newAsset={},r.modal.hide(),r.reset()},r.removeRequest=function(e){console.log("removeRequest",r.requests[e]),r.requests.splice(e,1)},r.completeRequest=function(e){console.log("completeRequest",r.requests[e]),r.requests[e].completed=!0},r.saveRequest=function(e){console.log("saveRequest",e),r.modal.hide(),r.reset()},r.reset=function(){console.log("Scope Reset"),r.newAsset={}},r.selectAll=function(e,a){var i=[];e.map(function(e,t){e.selected=angular.element(a.target).get(0).checked,i.push(t)}),r.selected=i},r.completeSelected=function(e){console.log("completeSelected",e)},r.removeSelected=function(e){console.log("removeSelected",e)},r.selectRequest=function(e,t){console.log("selectRequest",angular.element(t.target).get(0).checked),angular.element(t.target).get(0).checked?r.selected.push(e):r.selected.splice(e,1)},r.calculateRequestTotal=function(){var t=0;r.newAsset.items.map(function(e){t+=e.cost*e.quantity}),r.requestTotal=t},r.init()}],link:function(e,t){t.on("$destroy",function(){e.$destroy()})}}}]),angular.module("nimbusEmsApp").controller("UsersCtrl",["$scope","$window","usersData","eduApi","user","$route",function(i,t,e,s,l,a){i.defaultPagination=5,i.usersData=e;var n=a.current.$$route.controllerAs||!1;console.log("data",e,a,n),i.usersList=e.data;var r=new t.Bloodhound({datumTokenizer:function(e){return console.log("bloodhound d",e),t.Bloodhound.tokenizers.whitespace(e.fname)},queryTokenizer:t.Bloodhound.tokenizers.whitespace,remote:"http://edu.nimbus.com:7070/"+l.tenant.id+"/users"});r.initialize(),i.userDataset={name:"users",display:"firsname",source:r.ttAdapter(),templates:{suggestion:function(e){var t='<article class="uk-comment uk-card">';return t+='\t\t<header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove-bottom uk-grid" uk-grid="">',t+='\t\t\t<div class="uk-width-expand">',t+='\t\t\t\t<h4 class="uk-comment-title uk-margin-remove"><a class="uk-link-reset ng-binding uk-text-small" href="#"> '+e.fname+" "+e.lname+"</a></h4>",t+='\t\t\t\t<ul class="uk-padding-remove uk-margin-remove uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top uk-text-mute">',t+="\t\t\t\t</ul>",t+="\t\t\t</div>",t+="\t\t</header>",t+='\t\t<div class="uk-comment-footer"></div>',t+="\t</article>"},empty:["","No results were found ...",""].join("\n")}},i.userOptions={displayKey:"fname",minLength:2,highlight:!0,classNames:{dataset:"uk-dropdown"}},i.next=function(a){i.loading=!0,s.api("GET",l.tenant.id+"/users?paginate="+i.defaultPagination+"&page="+a+(n?"&user_type="+n:"")).then(function(e){console.log("next page:"+a,e.data.data),i.usersData=e.data;var t=i.usersList.concat(e.data.data);i.usersList=t,r.initialize(!0),i.loading=!1}).catch(function(e){console.log("eduApi error",e),t.UIkit.notification({message:"Couldnt get users",status:"danger",pos:"top-right",timeout:5e3})})},i.edit=function(e){console.log("edit",e)},i.view=function(e){console.log("view",e)},console.log("UsersCtrl",i)}]),angular.module("nimbusEmsApp").controller("AccountCtrl",["$scope","$window","eduApi","$route","apiConst","user","sweetAlert","userService","$localStorage",function(t,a,e,i,s,l,n,r,o){t.init=function(){t.profileData=JSON.parse(o.auth)},t.save=function(e){t.loading=!0,console.log("sending data",e),r.saveUser(e).then(function(e){t.loading=!1,n.alert({title:"Profile Saved",text:e.data.message,icon:"success",buttons:{confirm:n.button({text:"ok"})}}).then(function(){r.updateLocalUser(e.data),i.reload()})}).catch(function(e){t.loading=!1,n.alert({title:"Something's Wrong",text:e.data.message,icon:"error",buttons:{confirm:n.button({text:"ok"})}})})};var u=new a.Bloodhound({datumTokenizer:function(e){return a.Bloodhound.tokenizers.whitespace(e.fname)},queryTokenizer:a.Bloodhound.tokenizers.whitespace,remote:"http://graph.nimbus.com:8000/v1/services"});t.search=null,u.initialize(),t.serviceDataset={name:"services",display:"name",source:u.ttAdapter(),limit:10,templates:{suggestion:function(e){var t='<article class="uk-comment uk-card">';return t+='\t\t<header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove-bottom uk-grid" uk-grid="">',t+='\t\t\t<div class="uk-width-expand">',t+='\t\t\t\t<h4 class="uk-comment-title uk-margin-remove"><a class="uk-link-reset ng-binding uk-text-small uk-text-capitalize" ng-href="#!/'+e.tenant_id+"/profile/"+e.id+'"> '+e.fname+" "+e.lname+"</a></h4>",t+='\t\t\t\t<ul class="uk-padding-remove uk-margin-remove uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top uk-text-mute">',t+="\t\t\t\t</ul>",t+="\t\t\t</div>",t+="\t\t</header>",t+='\t\t<div class="uk-comment-footer"></div>',t+="\t</article>"},empty:["","No results were found ...",""].join("\n")},async:!0},t.serviceOptions={displayKey:"name",minLength:2,highlight:!0,classNames:{dataset:"uk-dropdown"}},t.init()}]),angular.module("nimbusEmsApp").controller("InventoryCtrl",["$scope","$window",function(e,t){e.inventoryData=[{sku:"0000-0001",description:"crates of fanta",quantity:5,price:1e3},{sku:"0000-0002",description:"crates of eggs",quantity:5,price:1500}],e.$on("$routeChangeStart",function(){t.UIkit.offcanvas("#side-menu").hide()})}]),angular.module("nimbusEmsApp").directive("reports",function(){return{templateUrl:"views/templates/reports.html",restrict:"E",scope:!0,controller:["$scope",function(e){e.widgetTitle="reports"}],link:function(e,t){t.on("$destroy",function(){e.$destroy()})}}}),angular.module("nimbusEmsApp").directive("users",function(){return{templateUrl:"views/templates/users.html",restrict:"E",scope:!0,controller:["$scope","graphApi","$window","apiConst","subdomain",function(t,a,i,s,l){t.widgetTitle="Users",t.search=null,t.subdomain=l,t.init=function(){t.loading=!0,a.api("GET",l+"/users?paginate="+s.widgetPagination+"&page=1").then(function(e){t.data=e.data,n.initialize(!0),t.loading=!1}).catch(function(e){console.log("graphApi error",e),t.loading=!1,i.UIkit.notification({message:"Couldnt get users",status:"danger",pos:"top-right",timeout:5e3})})};var n=new i.Bloodhound({datumTokenizer:function(e){return i.Bloodhound.tokenizers.whitespace(e.fname)},queryTokenizer:i.Bloodhound.tokenizers.whitespace,remote:a.apiEndPoint+l+"/users"});n.initialize(),t.userDataset={name:"users",display:"fname",source:n.ttAdapter(),limit:10,templates:{suggestion:function(e){var t='<article class="uk-comment uk-card">';return t+='\t\t<header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove-bottom uk-grid" uk-grid="">',t+='\t\t\t<div class="uk-width-expand">',t+='\t\t\t\t<h4 class="uk-comment-title uk-margin-remove"><a class="uk-link-reset ng-binding uk-text-small uk-text-capitalize" ng-href="#!/'+e.tenant_id+"/profile/"+e.id+'"> '+e.fname+" "+e.lname+"</a></h4>",t+='\t\t\t\t<ul class="uk-padding-remove uk-margin-remove uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top uk-text-mute">',t+="\t\t\t\t</ul>",t+="\t\t\t</div>",t+="\t\t</header>",t+='\t\t<div class="uk-comment-footer"></div>',t+="\t</article>"},empty:["","No results were found ...",""].join("\n")},async:!0},t.userOptions={displayKey:"fname",minLength:2,highlight:!0,classNames:{dataset:"uk-dropdown"}},t.next=function(e){t.loading=!0,a.api("GET",l+"/users?paginate="+s.widgetPagination+"&page="+e).then(function(e){t.data=e.data,n.initialize(!0),t.loading=!1}).catch(function(e){console.log("graphApi error",e),i.UIkit.notification({message:"Couldnt get users",status:"danger",pos:"top-right",timeout:5e3})})},t.prev=function(e){t.loading=!0,a.api("GET",l+"/users?paginate="+s.widgetPagination+"&page="+e).then(function(e){t.data=e.data,n.initialize(!0),t.loading=!1}).catch(function(e){console.log("graphApi error",e),i.UIkit.notification({message:"Couldnt get users",status:"danger",pos:"top-right",timeout:5e3})})},t.init(),console.log("Users Directive Scope",t)}],link:function(e,t){t.on("$destroy",function(){e.$destroy()})}}}),angular.module("nimbusEmsApp").constant("apiConst",{componentPagination:10,widgetPagination:5,defaultTenantId:3220}),angular.module("nimbusEmsApp").controller("LearningCtrl",["$scope","$window","settings",function(e,t,a){e.dashboardSettings=a.getSettings("learningDashboard"),e.myCourses=[{name:"Physics",grade:0},{name:"Chemistry",grade:0},{name:"Biology",grade:0}],e.activities=[{user:{image:"https://getuikit.com/docs/images/avatar.jpg",fname:"Anthony",lname:"Akpan"},meta:{action:{type:"registration",verb:"registered for"},subject:{name:"Biology",url:"#",description:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",featuredImage:"https://cdn.colorlib.com/wp/wp-content/uploads/sites/2/restaurant-website-templates-506x344.jpg",images:[],type:"course"}}}],e.$on("$routeChangeStart",function(){t.UIkit.offcanvas("#side-menu").hide()})}]),angular.module("nimbusEmsApp").controller("CourseCtrl",["$scope","$window","grades","eduApi","apiConst","modal","courseService","user","$route","sweetAlert",function(t,e,a,i,s,l,n,r,o,u){t.init=function(){var e=o.current.params;console.log(),n.initCourse(t,e).then(function(e){console.log("courseService result",e),t.courseData=e.data,t.courseData.data.length&&(t.pageTitle=t.courseData.data[0].course.name,t.pageTitle+=" | "+t.courseData.data[0].course.code),t.loadingHome=!1}).catch(function(e){console.log("courseService error",e),t.loadingHome=!1,u.alert({title:"Somethings wrong!",icon:"error",text:e.data.message||"error",buttons:{confirm:u.button({text:"ok"})}})})},t.getTotal=function(e){return!!e.meta&&a.getTotal(e.meta.grades,e.course.meta.course_schema)},t.getGrade=function(e){return!!e.meta&&a.getGrade(a.getTotal(e.meta.grades,e.course.meta.course_schema))},t.loadOutline=function(){t.loadingOutline=!0,t.courseData?i.api("GET",r.tenant.id+"/lessons?course_id="+t.courseData.data[0].course.id+"&paginate="+s.componentPagination+"&page=1").then(function(e){console.log("outline loaded",e),e.data.length&&e.data.data?t.outline=e.data.data:t.outlineMessage=e.statusText?e.statusText:"No Data",t.loadingOutline=!1}).catch(function(e){t.outlineMessage=e.statusText?e.statusText:"Error",t.loadingOutline=!0}):t.outlineMessage="No Course Data"},angular.element(".uk-switcher").on({show:function(e){switch(angular.element(e.target).get(0).dataset.tab){case"outline":t.outline||t.loadOutline()}}}),t.init(),t.course=n,console.log("course init",t)}]),angular.module("nimbusEmsApp").controller("LoginCtrl",["$scope","$route","$rootScope","validation","$auth","auth","$window","user","$location","$http","userService",function(s,t,a,l,n,e,i,r,o,u,c){n.isAuthenticated||e.clearUser(),s.signin=function(e,t){s.loginLoading=!0;var a={email:e.email,password:e.password},i=angular.element(t.currentTarget).parents()[1];l.validate(i).then(function(e){angular.element("#modal .uk-modal-spinner").removeClass("uk-hidden"),e.valid?n.login(a).then(function(e){s.loginLoading=!1,console.log("Data",e,o),angular.element("#modal .uk-modal-dialog").removeClass("error").addClass("success"),angular.element("#modal .uk-alert").removeClass("uk-hidden uk-alert-danger").addClass("uk-alert-success").children("p").html("Logged In Successfully"),c.updateLocalUser(e.data.user),angular.element("#modal .uk-modal-spinner").addClass("uk-hidden"),o.path("/")}).catch(function(e){s.loginLoading=!1,console.log("Login Error",e),s.loginError=e.data.error,angular.element("#modal .uk-modal-dialog").removeClass("success").addClass("error"),angular.element("#modal .uk-modal-spinner").addClass("uk-hidden"),angular.element("#modal .uk-alert").removeClass("uk-hidden uk-alert-success").addClass("uk-alert-danger").children("p").html("Invalid Login")}):console.log(e)})},s.authenticate=function(e){n.authenticate(e).then(function(e){console.log("Auth Data",e),s.authLoading=!1,angular.element("#modal .uk-modal-dialog").removeClass("error").addClass("success"),angular.element("#modal.login form input").removeClass("uk-form-danger").addClass("uk-form-success"),angular.element("#modal .uk-alert").removeClass("uk-hidden uk-alert-danger").addClass("uk-alert-success").children("p").html("Logged In Successfully"),a.user={},angular.element("#modal .uk-modal-spinner").addClass("uk-hidden"),s.closeModal(),t.reload()}).catch(function(e){s.authLoading=!1,angular.element("#modal .uk-modal-dialog").removeClass("success").addClass("error"),angular.element("#modal.login form input").removeClass("uk-form-success").addClass("uk-form-danger"),angular.element("#modal .uk-modal-spinner").addClass("uk-hidden"),angular.element("#modal .uk-alert").removeClass("uk-hidden uk-alert-success").addClass("uk-alert-danger"),e&&angular.element("#modal .uk-alert").children("p").html(e)}),s.$on("$routeChangeStart",function(){s.$on("$routeChangeStart",function(){i.UIkit.offcanvas("#side-menu").hide()})})}}]),angular.module("nimbusEmsApp").controller("ProfileCtrl",["$scope","$window","$route","graphApi","modal","$localStorage","user",function(a,i,s,l,e,t,n){a.init=function(){a.profileData=n,a.initiated=!0},a.initiated||(a.init(),console.log("profileData",a.profileData)),a.next=function(t){a.loading=!0;var e=s.current.params;l.api("GET",e.tenant_id+"/activities?user_id="+e.user_id+"&page="+t).then(function(e){console.log("next page:"+t,e.data.data),a.profileData=e.data,a.loading=!1}).catch(function(e){console.log("graphApi error",e),i.UIkit.notification({message:"Couldnt get users",status:"danger",pos:"top-right",timeout:5e3})})},a.modal=e,a.$on("$routeChangeStart",function(){i.UIkit.offcanvas("#side-menu").hide()})}]),angular.module("nimbusEmsApp").directive("myCourses",function(){return{templateUrl:"views/templates/myCourses.html",restrict:"E",scope:!0,controller:["$scope","eduApi","$route","apiConst","$window","grades","$auth","$cookies","format","$rootScope","$localStorage",function(t,e,a,i,s,l,n,r,o,u,c){t.widgetTitle=function(e){return o.widgetTitle(e)},t.getTotal=function(e){return!!e.meta&&l.getTotal(e.meta.grades,e.course.meta.course_schema)},t.getGrade=function(e){return!!e.meta&&l.getGrade(l.getTotal(e.meta.grades,e.course.meta.course_schema))},t.init=function(){t.loading=!0,t.error=!1,t.user=JSON.parse(c.auth),console.log("mygroup",t.user),e.api("GET",t.user.tenant.id+"/registrations?user_id="+t.user.id+"&paginate="+i.componentPagination+"&page=1").then(function(e){console.log("eduApi course result",e),t.coursesData=e.data,t.loading=!1}).catch(function(e){console.log("eduApi course error",e),t.error=e.statusText,t.loading=!1})},t.init()}],link:function(e,t){t.on("$destroy",function(){e.$destroy()})}}}),angular.module("nimbusEmsApp").directive("activityFeed",function(){return{templateUrl:"views/templates/activityFeed.html",restrict:"E",scope:!0,controller:["$scope",function(e){e.widgetTitle="Activities"}],link:function(e,t){t.on("$destroy",function(){e.$destroy()})}}}),angular.module("nimbusEmsApp").service("grades",function(){return{getGrade:function(e){var t={};return 90<=e?(t.grade="A",t.className="success"):70<=e&&e<=89?(t.grade="B",t.className="primary"):50<=e&&e<=69?(t.grade="C",t.className="muted"):45<=e&&e<=49?(t.grade="D",t.className="muted"):40<=e&&e<=44?(t.grade="E",t.className="warning"):(t.grade="F",t.className="danger"),t},getTotal:function(a,e){var i=0;return angular.forEach(e,function(e,t){i+=a[t]}),i},getAverage:function(t){var a=0,i=this;return angular.forEach(t.registrations,function(e){a+=i.getTotal(e.meta.grades,t.meta.course_schema)}),Math.ceil(a/t.registrations.length)}}}),angular.module("nimbusEmsApp").factory("breadcrumbs",function(){return{parse:function(){return[]}}}),angular.module("nimbusEmsApp").directive("courses",function(){return{templateUrl:"views/templates/courses.html",restrict:"E",scope:!0,controller:["$scope",function(e){e.widgetTitle="Courses"}],link:function(e,t){t.on("$destroy",function(){e.$destroy()})}}}),angular.module("nimbusEmsApp").controller("CoursesCtrl",["$scope","coursesData","grades","courseService","modal","form","uikit3","eduApi","user","apiConst","$window","offcanvas","card",function(i,e,t,a,s,l,n,r,o,u,c,d,m){i.showAdvanced=!1,i.asset={meta:{course_grade_id:1,course_schema:{lab:{value:5,enabled:!0},exam:{value:35,enabled:!0},quiz:{value:10,enabled:!0},midterm:{value:30,enabled:!0},assignment:{value:15,enabled:!0},attendance:{value:5,enabled:!0}}}},(i.coursesList=e).length||(i.noCoursesMessage="No Content"),i.createCourseInit=!1,i.classes=a.getClasses(),i.classFilter=i.classes[0],i.offCanvasOpen=!1,i.getSchema=function(){return Object.keys(i.asset.meta.course_schema)},i.courseAverage=function(e){return t.getAverage(e)},i.courseGrade=function(e){return t.getGrade(t.getAverage(e))},i.filterByClass=function(e){console.log("filterByClass",e),a.getCourses(!1,e).then(function(e){i.coursesList=e.data,i.loading=!1}).catch(function(e){console.log("eduApi error",e),c.UIkit.notification({message:e.data.message,status:"danger",pos:"top-right",timeout:5e3}),i.loading=!1})},i.createCourse=function(){var e="";e+='<div class="uk-clearfix uk-margin-bottom">',e+='\t<div class="uk-float-left">',e+='<p class="uk-button uk-button-text title uk-text-capitalize uk-text-bold uk-margin-remove">Create Course</p>',e+="\t</div>",e+='\t<div class="uk-float-right">',e+=n.button({directive:'ng-click="save(asset)"',cls:"uk-button-primary uk-button-small",label:"Save"}),e+=n.button({directive:'ng-click="modal.hide()"',cls:"uk-button-danger uk-button-small",label:"Close"}),e+="\t</div>";var t={title:e+="</div>",type:"full",body:l.editCourse(i)};i.createCourseInit||a.initTypeAhead(i,[{name:"subjects",display:"name",endPoint:r.apiEndPoint+"subjects"},{name:"instructors",display:"firstname",endPoint:r.apiEndPoint+o.tenant.id+"/users?user_type=teacher"}]),console.log("$scope createCourse",i.asset),s.modal(t,i).then(function(e){i.modal=e,i.createCourseInit=!0})},i.save=function(e){console.log("save course",e)},i.next=function(e){i.loading=!0,a.getCourses(e,o.meta.course_grade_id||!1).then(function(e){e.data.data=i.coursesList.data.concat(e.data.data),i.coursesList=e.data,i.loading=!1}).catch(function(e){console.log("eduApi error",e),c.UIkit.notification({message:"Couldnt get users",status:"danger",pos:"top-right",timeout:5e3}),i.loading=!1})},i.view=function(e,t,a){i.selected=e,d.open({title:!1,body:m.type(t,"selected",i,a)},i),i.offCanvasOpen=!0,console.log(t+" card",i)}}]),angular.module("nimbusEmsApp").controller("RegisterCtrl",["$scope","$window","services","graphApi","$location",function(t,a,e,i,s){t.registration={meta:{}},console.log("services",e),t.services=e.data,t.cart=[],t.total=0,t.selectService=function(){t.cart=[],angular.forEach(t.services,function(e){e.selected&&t.cart.push(e)}),t.calculateBill()},t.calculateBill=function(){t.total=0,t.cart.length&&angular.forEach(t.cart,function(e){t.total+=e.meta.cost})},t.registerUser=function(e){t.loading=!0,i.api("POST","tenants",e).then(function(e){console.log("registration result",e),t.loading=!1,t.errors=!1,a.UIkit.notification({message:"<span uk-icon='icon: check'></span> "+e.statusText,status:"primary",pos:"top-right",timeout:5e3}),s.path("/login").search("firstLogin",!0)}).catch(function(e){t.errors=e.data.errors,t.loading=!1,a.UIkit.notification({message:e.data.message,status:"primary",pos:"top-right",timeout:5e3})})},t.completeOrder=function(e){console.log("registration data",e)}}]),angular.module("nimbusEmsApp").service("courseService",["modal","form","uikit3","$window","eduApi","user","apiConst",function(e,t,a,l,i,s,n){this.initTypeAhead=function(s,e){e.forEach(function(t){var e=t.name+"List",a=t.name+"DataSet",i=t.name+"Options";s[e]=new l.Bloodhound({datumTokenizer:function(e){return l.Bloodhound.tokenizers.whitespace(e[t.display])},queryTokenizer:l.Bloodhound.tokenizers.whitespace,remote:t.endPoint}),s[e].initialize(!0),s[a]={name:t.name||"",display:t.display||"",source:s[e].ttAdapter()||!1,limit:t.limit||2,templates:{suggestion:function(e){return'<li class="uk-text-capitalize">'+e[t.display]+"</li>"},empty:["","No results were found ...",""].join("\n")},async:!0},s[i]={displayKey:t.display||"",minLength:t.minLength||2,highlight:!0,hint:!0,classNames:{dataset:"uk-list uk-list-divider uk-dropdown uk-padding-small"}}})},this.saveCourse=function(e){console.log("saveCourse",e)},this.initCourse=function(e,t){return e.loadingHome=!0,e.students=[],console.log("courseService params",t),i.api("GET",s.tenant.id+"/registrations?course_id="+t.id+"&paginate="+n.componentPagination+"&page=1")},this.getClasses=function(){return[{id:1,name:"primary 1"},{id:2,name:"primary 2"},{id:3,name:"primary 3"},{id:4,name:"primary 4"},{id:5,name:"primary 5"},{id:6,name:"primary 6"},{id:7,name:"JS 1"},{id:8,name:"JS 2"},{id:9,name:"JS 3"},{id:10,name:"SS 1"},{id:11,name:"SS 2"},{id:12,name:"a level"}]},this.getCourses=function(e,t){return i.api("GET",s.tenant.id+"/courses?paginate="+n.widgetPagination+(e?"&page="+e:"")+(t?"&course_grade_id="+t:""))}}]),angular.module("nimbusEmsApp").directive("userPill",function(){var i={fname:"tony"};return{scope:!0,controller:["$scope","format","$localStorage",function(e,t,a){e.user=JSON.parse(a.auth),e.widgetTitle=function(e){return t.widgetTitle(e)}}],template:function(){return'<div class="uk-grid-small uk-flex-middle" uk-grid><div class="uk-width-auto"><img class="uk-comment-avatar uk-preserve-width uk-border-circle" src="https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png" width="40" alt="" /></div><div class="uk-width-expand"><p class="uk-text-capitalize title">{{ widgetTitle(user.firstname) }}</p><p class="uk-text-meta uk-margin-remove-top uk-hidden"><time datetime="2016-04-01T19:00">April 01, 2016</time></p></div></div>'},restrict:"E",link:function(e,t,a){i.fname=a.fname,t.on("$destroy",function(){e.$destroy()})}}}),angular.module("nimbusEmsApp").service("format",function(){return{widgetTitle:function(e){return e+"'s Courses"}}}),angular.module("nimbusEmsApp").directive("studentList",function(){return{scope:!0,controller:["$scope","courseService","grades",function(e,t,a){var i;e.init=function(){return console.log("studentList directive courseId",e),i=e.$parent.courseId,t.initCourse(e,{id:i})},e.getTotal=function(e){return!!e.meta&&a.getTotal(e.meta.grades,e.course.meta.course_schema)},e.getGrade=function(e){return!!e.meta&&a.getGrade(a.getTotal(e.meta.grades,e.course.meta.course_schema))},e.init()}],templateUrl:"views/templates/studentList.html",restrict:"E",link:function(e,t){t.on("$destroy",function(){e.$destroy()})}}}),angular.module("nimbusEmsApp").directive("upload",["uikit3",function(e){return{template:e.upload({}),restrict:"E",controller:["$scope","upload",function(a,e){a.files=[];var t={url:"",multiple:!0,beforeAll:function(e,t){a.files=t,a.$emit("upload",t)}};a.upload=e.uikit3(t),a.$on("reset",function(){console.log("reset files event"),a.files=[]})}],link:function(e,t){t.on("$destroy",function(){e.$destroy()})}}}]),angular.module("nimbusEmsApp").service("upload",["$window",function(t){this.uikit3=function(e){return t.UIkit.upload(".js-upload",e)}}]),angular.module("nimbusEmsApp").service("csvParser",["$window","$q",function(s,l){this.parse=function(e){var t=[],a=l.defer();if(e){for(var i=0;i<e.length;i++)s.Papa.parse(e.item(i),{header:!0,complete:function(e){t.push(e)}});return a.resolve(t),a.promise}}}]),angular.module("nimbusEmsApp").directive("import",["uikit3","importService","csvParser","eduApi","user","$window","sweetAlert",function(e,s,l,n,r,t,o){return{template:s.render(),restrict:"E",controller:["$scope","$timeout",function(i,a){i.workbook=[],i.importTypes=s.importTypes(),i.selectImportType=function(e){i.importType=e},i.$on("upload",function(e,t){i.loading=!0,l.parse(t).then(function(e){a(function(){i.workbook=e,i.loading=!1},1e3)})}),i.add=function(e){i.workbook[e].data.unshift({})},i.remove=function(e,t){i.workbook[e].data.splice(t,1)},i.reset=function(){i.$broadcast("reset"),i.workbook=[],i.importType=!1},i.import=function(t){i.loading=!0;var a=s.parseWorkBook(i.workbook,t.value);console.log("import data",a),o.alert({title:"Import "+a[0].length+" "+t.name+"?",icon:"warning",buttons:{cancel:o.button({text:"Cancel",className:"uk-button uk-button-danger",value:!1}),confirm:o.button({text:"Import",value:!0})}}).then(function(e){console.log("prompt choice",e),i.loading=!0,i.$apply(),e&&n.api("POST",r.tenant.id+"/courses/batch?type="+t.value,a).then(function(e){console.log("import result",e),i.loading=!1,o.alert({title:"Success",text:e.data.message,icon:"success",buttons:{confirm:o.button({text:"ok"})}}),i.reset()}).catch(function(e){console.log("import error",e),i.loading=!1,o.alert({title:"Somethings wrong!",icon:"error",text:e.data.message,buttons:{confirm:o.button({text:"ok"})}})}),i.loading=!1})},i.orderBy=function(e){console.log("orderBy",e),i.workSheetOrder=e}}],link:function(e,t){t.on("$destroy",function(){e.$destroy()})}}}]),angular.module("nimbusEmsApp").service("importService",["uikit3",function(i){this.render=function(){var e="",t="",a="";return a+='<ul class="uk-child-width-1-3@m uk-child-width-1-2@s" uk-grid>',a+='<li ng-repeat="type in importTypes">',a+='<a title="{{ type.name }}" class="uk-text-center uk-link-reset" ng-click="selectImportType(type)">',a+=i.card({body:'<span class="uk-margin-small-right" uk-icon="icon:{{ type.icon }};ratio: 3.5"></span><h3 class="uk-card-title">Import {{ type.name }}</h3>',classes:{card:"uk-card-default uk-card-hover"}}),a+="</a>",a+="</li>",a+="",e+=i.section({directive:'ng-show="!importType"',body:a,cls:"uk-text-center"}),e+='<upload ng-if="!workbook.length && !loading && importType"></upload>',e+='<div uk-spinner ng-if="loading" class="uk-width-1-1 uk-text-center"></div>',e+='<ul class="uk-list" ng-if="!loading && workbook.length">',e+='\t<li ng-repeat="(worksheetIndex , worksheet) in workbook">',e+='\t\t<div class="uk-overflow-auto">',e+='\t\t<table class="uk-table uk-table-divider uk-table-small">',e+="\t\t\t<thead>",e+="\t\t\t\t<tr>",e+="\t\t\t\t\t<th></th>",e+='\t\t\t\t\t<th ng-repeat="(key,header) in worksheet.data[0]" class="uk-link" ng-click="orderBy(key)">{{ key }}</th>',e+="\t\t\t\t\t<th></th>",e+="\t\t\t\t</tr>",e+="\t\t\t</thead>",e+="\t\t\t<tbody>",e+='\t\t\t\t<tr ng-repeat="rows in worksheet.data | orderBy:workSheetOrder | filter:search">',e+="\t\t\t\t\t<td>{{ $index }}</td>",e+='\t\t\t\t\t<td ng-repeat="column in rows track by $index">'+i.input({model:"column",cls:"uk-form-small uk-form-blank uk-text-capitalize",disabled:!0})+"</td>",e+="\t\t\t\t\t<td>"+i.icons([{icon:"close",action:"remove(worksheetIndex,$index)",tooltip:"remove row",cls:"uk-text-danger"}])+"</td>",e+="\t\t\t\t</tr>",e+="\t\t\t</tbody>",e+="\t\t</table>",e+="\t\t</div>",e+="\t</li>",e+="<ul>",e+="</div>",t='<div class="uk-clearfix" ng-if="!loading">',t+='<div class="uk-float-left uk-text-uppercase uk-text-small">',t+='<span ng-if="importType && !workbook.length"><span uk-icon="icon: {{ importType.icon }}"></span> Import {{ importType.name }}</span>',t+='<form class="uk-search uk-search-default" ng-if="importType && workbook.length">',t+="<span uk-search-icon></span>",t+=i.input({cls:"uk-search-input uk-form-small",directive:'ng-model="search"',type:"search",placeholder:"Search {{ importType.name }}"}),t+="</form>",t+="</div>",t+='<div class="uk-float-right" ng-if="workbook.length || importType">',t+=i.icons([{icon:"reply",action:"reset()",cls:"uk-text-danger",tooltip:"reset"},{icon:"cloud-upload",action:"import(importType)",cls:"uk-text-primary",tooltip:"import",directive:'ng-if="workbook.length"'}]),t+="</div>",t+="</div>",i.card({header:t,body:e,classes:{card:"uk-card-default",body:"uk-padding-small",header:"uk-padding-small"}})},this.parseWorkBook=function(e,i){var s=[],l={meta:{}},n=this;return e.forEach(function(e,a){s[a]=[],e.header=Object.keys(e.data[0]),delete e.header.$$hashKey,e.data.forEach(function(t){switch(i){case"user":l={meta:{address:{}}},n.parseUsers(e,t,l);break;default:l={},e.header.forEach(function(e){l[e]=t[e]})}s[a].push(l)})}),s},this.parseUsers=function(e,t,a){return e.header.forEach(function(e){"firstname"===e||"lastname"===e||"email"===e?a[e]=t[e]:"address"===e||"city"===e||"state"===e||"zip"===e||"country"===e?t[e].length&&(a.meta.address[e]=t[e]):t[e].length&&(a.meta[e]=t[e])}),a},this.importTypes=function(){return[{id:1,name:"Subjects",value:"subject",icon:"list",description:""},{id:2,name:"Classes",value:"coursegrade",icon:"grid",description:""},{id:3,name:"Curriculum",value:"curriculum",icon:"thumbnails",description:""},{id:4,name:"Teachers",value:"user",icon:"user",description:""},{id:5,name:"Students",value:"user",icon:"users",description:""}]}}]),angular.module("nimbusEmsApp").controller("SettingsCtrl",function(){}),angular.module("nimbusEmsApp").controller("ToolsCtrl",function(){}),angular.module("nimbusEmsApp").factory("sweetAlert",["$window",function(t){return{alert:function(e){return t.swal(e)},button:function(e){return{text:e.text||"",value:e.value||!1,visible:!0,className:e.className||"uk-button uk-button-primary",closeModal:!0}}}}]),angular.module("nimbusEmsApp").service("userService",["eduApi","$localStorage","$rootScope",function(t,a,i){var s=JSON.stringify(a.auth);this.saveUser=function(e){return t.api("POST",s.tenant.id+"/users/"+e.id,e)},this.updateLocalUser=function(e){a.auth=JSON.stringify(e),i.user=JSON.parse(a.auth)||!1}}]),angular.module("nimbusEmsApp").constant("eduApiConst",{defaultCourseSchema:{lab:{value:5,enabled:!0},exam:{value:35,enabled:!0},quiz:{value:10,enabled:!0},midterm:{value:30,enabled:!0},assignment:{value:15,enabled:!0},attendance:{value:5,enabled:!0}}}),angular.module("nimbusEmsApp").service("card",["uikit3","form","courseService","eduApi","user",function(s,l,n,r,o){var u=this;this.type=function(e,t,a,i){return s.card(u[e](t,a,i))},this.person=function(e,t,a){var i="";return console.log("person card"),i+='<article class="uk-text-center">',i+='<h1 class="uk-article-title uk-text-capitalize"><a class="uk-link-reset" href="">{{ '+e+".firstname }} {{ "+e+".lastname }}</a></h1>",i+='<p class="uk-article-meta uk-text-capitalize">{{ '+e+".meta.user_type }}</p>",i+='<div uk-spinner class="uk-text-center uk-width-1-1"></div>',{body:i+="</article>"}},this.course=function(e,t,a){var i="";return console.log("course card"),i+='<article class="uk-text-center">',i+='\t<h3 class="uk-text-primary uk-text-capitalize"><a class="uk-link-reset" href="">{{ '+e+".name }}</a></h3>",i+="\t\t<hr>",i+="</article>",a&&(t.createCourseInit||n.initTypeAhead(t,[{name:"subjects",display:"name",endPoint:r.apiEndPoint+"subjects"},{name:"instructors",display:"firstname",endPoint:r.apiEndPoint+o.tenant.id+"/users?user_type=teacher"}]),i+=l.editCourse(e),t.createCourseInit=!0),{body:i,classes:{body:"uk-padding-remove",footer:"uk-padding-remove"},footer:!!a&&s.button({cls:"uk-button uk-button-default uk-width-1-1 uk-margin-small-bottom",icon:"upload",label:"Save",directive:'ng-click="save(course)"'})}}}]),angular.module("nimbusEmsApp").directive("overview",function(){return"<div>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</div>","<div>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div>","<div>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</div>","</div>",{template:'<div class="uk-grid-divider uk-child-width-expand@s" uk-grid><div>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</div><div>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div><div>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</div></div>',restrict:"E",link:function(e,t){t.on("$destroy",function(){e.$destroy()})}}}),angular.module("nimbusEmsApp").directive("usercard",["uikit3",function(e){return"{{ user.firstname | uppercase }} {{ user.lastname | uppercase }} {{ user.othernames | uppercase }}",'<p class="uk-text-meta uk-text-uppercase">{{ user.user_type.name }}</p>',{template:e.card({body:'{{ user.firstname | uppercase }} {{ user.lastname | uppercase }} {{ user.othernames | uppercase }}<p class="uk-text-meta uk-text-uppercase">{{ user.user_type.name }}</p>',classes:{body:"uk-text-center uk-padding-small"}}),controller:["$scope","$localStorage",function(e,t){}],restrict:"E",link:function(e,t,a){}}}]),angular.module("nimbusEmsApp").run(["$templateCache",function(e){e.put("views/about.html","<p>This is the about view.</p> "),e.put("views/account.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class="uk-padding-small"> <div class="uk-container uk-width-2-3@l uk-width-2-3@m"> <div class="uk-card"> <div class="uk-card-body uk-padding-small"> <ul uk-tab> <li><a href="#" class="">Account Details</a></li> <li><a href="#" class="uk-hidden">Billing</a></li> </ul> <ul class="uk-switcher uk-margin"> <li> <form class="uk-form-horizontal uk-margin-large"> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">First Name</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text" type="text" placeholder="First Name" ng-model="profileData.firstname"> </div> </div> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">Last Name</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text" type="text" placeholder="Last Name" ng-model="profileData.lastname"> </div> </div> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">Email</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text" type="email" placeholder="Email Address (Primary)" disabled ng-model="profileData.email"> </div> </div> <hr> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">Phone Number</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text uk-text-capitalize" type="tel" placeholder="Phone Number (Primary)" ng-model="profileData.meta.phone"> </div> </div> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">Phone Number (Secondary)</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text uk-text-capitalize" type="tel" placeholder="Phone Number (Secondary)" ng-model="profileData.meta.secondaryPhone"> </div> </div> <p class="uk-heading-line uk-text-left uk-text-capitalize uk-text-small uk-text-bold"><span class="ng-binding">Address</span></p> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">Street</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text uk-text-capitalize" placeholder="Street Address" ng-model="profileData.meta.address.street"> </div> </div> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">City</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text uk-text-capitalize" placeholder="City" ng-model="profileData.meta.address.city"> </div> </div> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">State</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text uk-text-capitalize" placeholder="State" ng-model="profileData.meta.address.state"> </div> </div> <div class="uk-margin"> <label class="uk-form-label" for="form-horizontal-text">Country</label> <div class="uk-form-controls"> <input class="uk-input form-horizontal-text uk-text-capitalize" placeholder="Country" ng-model="profileData.meta.address.country" ng-disabled="true"> </div> </div> <div class="uk-margin"> <button class="uk-button uk-button-primary" ng-click="save(profileData)">Save <div uk-spinner ng-if="loading" width="10px"></div></button> </div> </form> </li> <li> <div class="uk-grid-small" uk-grid> <div class="uk-width-1-1@m"> <div class="uk-card uk-card-default"> <div class="uk-card-header uk-padding-small"> <div class="uk-clearfix"> <div class="uk-align-left uk-margin-remove"> <p class="uk-margin-remove uk-text-capitalize">Your Services</p> </div> <div class="uk-align-right uk-margin-remove"> <p class="uk-text-meta uk-margin-remove uk-text-mute">{{ service.currency.symbol }} {{ service.meta.cost }}</p> </div> </div> </div> <div class="uk-card-body"> <ul class="uk-nav uk-nav-default"> <li ng-repeat="service in userServices" class="uk-text-capitalize"><a ng-click="viewService($index);">{{ service.name }}</a></li> </ul> </div> </div> </div> <div class="uk-width-1-1@m"> <div class="uk-margin services"> <form class="uk-search uk-search-default uk-width-1-1" ng-if="false"> <a href="" uk-search-icon></a> <input type="text" datasets="serviceDataset" options="serviceOptions" ng-model="search" sf-typeahead class="uk-search-input uk-width-1-1 typeahead uk-width-1-1" placeholder="Search..."> </form> <ul class="uk-grid-small" uk-grid> <li ng-repeat="service in services" class="uk-width-1-1@m uk-width-1-1@xs"> <div class="uk-card uk-card-default"> <div class="uk-card-header uk-padding-small"> <div class="uk-clearfix"> <div class="uk-align-left uk-margin-remove"> <div class="uk-grid-small uk-flex-middle" uk-grid> <div class="uk-width-auto"> <img class="" width="40" height="40" src="{{ service.meta.icon }}"> </div> <div class="uk-width-expand"> <p class="uk-margin-remove uk-text-capitalize">{{ service.name }}</p> </div> </div> </div> <ul class="uk-iconnav uk-align-right uk-margin-remove"> <li><a uk-icon="icon: plus" ng-click="addService($index)" title="enable {{ service.name }} api"></a></li> </ul> </div> </div> <div class="uk-card-body uk-padding-small" ng-if="service.description"> <p>{{ service.description }}</p> </div> </div> </li> </ul> </div> </div> </div> </li> </ul> </div> </div> </div> </section> '),e.put("views/course.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class=""> <main class="uk-flex uk-flex-wrap uk-flex-wrap-around" uk-grid> <article class="uk-article uk-width-1-1"> <ul uk-tab uk-switcher class="uk-margin-remove"> <li><a href="#">Overview</a></li> <li ng-if="courseData.data"><a href="#">Details</a></li> </ul> <ul class="uk-switcher uk-padding-small"> <li uk-grid data-tab="overview" class="uk-grid-small"> <div class="uk-width-1-1"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <div class="uk-align-left uk-margin-remove uk-width-1-2"> <p class="uk-align-left title">{{ courseData.data[0].course.grade.alias || \'Student List\' | uppercase }}</p> \x3c!-- add instructor element here --\x3e <user-pill firstname="instructor.firstname" class="uk-hidden"></user-pill> </div> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a ng-click="init()" uk-icon="icon: refresh"></a></li> </ul> </div> </div> <div class="uk-card-body uk-overflow-auto uk-padding-remove"> <div class="uk-text-center uk-padding-small" ng-if="loadingHome"><div uk-spinner></div></div> <div ng-if="!loadingHome && !courseData.data.length" class="uk-placeholder uk-text-center uk-danger uk-text-muted uk-margin-remove uk-padding-small"> <span class="uk-margin-small-right uk-text-capitalize" uk-icon="ban"></span> {{ \'no students found\' }} </div> <table class="uk-table uk-table-hover uk-table-middle uk-table-small uk-margin-remove" ng-if="!loadingHome && students && !message"> <thead ng-if="courseData.data"> <tr> <th class="uk-table-shrink"></th> <th class="uk-table-small">Name</th> <th ng-repeat="(key , grade) in courseData.data[0].course.meta.course_schema" class="uk-width-small uk-text-small uk-visible@s uk-visible@m">{{ key }}</th> <th class="uk-table-small uk-text-small uk-visible@s">Total</th> <th class="uk-table-shrink uk-text-small">Grade</th> </tr> </thead> <tbody ng-if="courseData.data"> <tr ng-repeat="student in courseData.data"> <td><img class="uk-preserve-width uk-border-circle" src="{{ student.user.image }}" width="40" alt=""></td> <td class="uk-table-link"> <span class="uk-link-reset uk-text-capitalize">{{ student.user.firstname }} {{ student.user.lastname }}</span> </td> <td ng-repeat="(key , grade) in student.meta.grades" class="uk-visible@s uk-visible@m uk-width-small"><input type="number" class="uk-input uk-form-blank" ng-model="grade" max="{{student.course.meta.course_schema[key]}}" ng-disabled="true"></td> <td class="uk-width-small uk-visible@s"><input type="number" class="uk-input uk-form-blank" ng-value="student.meta.grades.quiz + student.meta.grades.assignment + student.meta.grades.midterm + student.meta.grades.lab + student.meta.grades.exam" ng-disabled="true"></td> <td class="uk-text-center"><span class="uk-text-{{getGrade(student).className}}">{{getGrade(student).grade}}</span></td> </tr> </tbody> </table> </div> </div> </div> </li> <li uk-grid data-tab="outline" class="uk-grid-small uk-margin-remove" ng-if="courseData.data"> <div ng-if="outlineMessage && !loadingOutline" class="uk-placeholder uk-text-center uk-danger uk-text-muted uk-margin-remove uk-padding-small"> <span class="uk-margin-small-right" uk-icon="ban"></span> {{ outlineMessage }} </div> <div class="uk-text-center uk-padding-small" ng-if="loadingOutline"><div uk-spinner></div></div> <div class="uk-width-1-3@m uk-padding-remove"> <div class="uk-card uk-card-default uk-visible@s" ng-if="outline && !loadingOutline"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <h3 class="uk-card-title title">Topics</h3> </div> <div class="uk-card-body"> <ul class="uk-nav uk-nav-default uk-list uk-list-divider uk-nav-parent-icon" uk-nav> <li class="uk-parent" ng-if="outline" ng-repeat="topic in outline"> <a href="#{{ $index }}" class="uk-nav-header">{{ topic.title }}</a> <ul class="uk-nav-sub" ng-if="topic.sub_lessons"> <li ng-repeat="subTopic in topic.sub_lessons"> <a href="#{{ $index }}" uk-scroll>{{ subTopic.title }}</a> </li> </ul> </li> </ul> </div> </div> </div> <div class="uk-width-2-3@m"> <article class="uk-article" ng-repeat="topic in outline"> <p class="uk-text-lead" id="#{{ $index }}"><a class="uk-link-reset" href="">{{ topic.title }}</a> </p><p class="uk-article-meta">Written by <a href="#">Super User</a> on 12 April 2012.</p> <p class="uk-text-bold">{{ topic.description }}</p> <p>{{ topic.content }}</p> </article> </div> </li> </ul> </article> </main> </section>'),e.put("views/courses.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section> <div ng-if="!coursesList.data.length" class="uk-width-1-1"> <div class="uk-placeholder uk-text-center uk-danger uk-text-muted uk-margin-remove uk-padding-small"> <span class="uk-margin-small-right" uk-icon="ban"></span> {{ noCoursesMessage }} </div> </div> <main ng-if="coursesList.data.length" class="uk-padding-small"> <table class="uk-table uk-table-hover uk-table-middle uk-table-divider"> <thead> <tr> <th class="uk-table-shrink"></th> <th class="uk-table-expand">Course Name</th> <th class="uk-table-small">Class</th> <th class="uk-table-small">Instuctor</th> <th class="uk-width-small"> <select class="uk-select uk-text-capitalize uk-text-small" ng-select="filterByClass(classFilter)" ng-options="class as class.name for class in classes track by class.id" ng-model="classFilter" ng-if="false"></select> </th> </tr> </thead> <tbody> <tr ng-repeat="course in coursesList.data"> <td><img class="uk-preserve-width uk-border-circle" src="{{ user.image_url }}" width="40" alt=""></td> <td> <a class="uk-link-reset uk-text-capitalize" ng-click="view(course,\'course\')"> {{ course.name }} <span class="uk-text-muted uk-text-small">{{ course.code }}</span> </a> </td> <td> {{ course.grade.name | uppercase }} </td> <td> <a class="uk-link-reset uk-text-capitalize" ng-if="course.instructor" ng-disabled="offCanvasOpen"> {{ course.instructor.firstname }} {{ course.instructor.lastname }} </a> <a class="uk-text-capitalize uk-text-danger" ng-if="!course.instructor" ng-disabled="offCanvasOpen"> {{ \'no instructor assigned\' }} </a> </td> <td> <ul class="uk-iconnav"> <li ng-if="false"><a ng-click="view(course,\'course\',true)" uk-icon="icon: file-edit" title="edit"></a></li> <li><a ng-href="#!/learning/course/{{course.id}}" class="uk-button uk-button-small uk-button-default uk-text-uppercase" title="edit">view</a></li> </ul> </td> </tr> </tbody> </table> </main> <main class="uk-grid-small uk-hidden" uk-grid> <div class="uk-width-1-3@m" ng-repeat="course in coursesList.data"> <div class="uk-card uk-card-default uk-card-hover"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <a ng-href="#!/learning/course/{{ course.id }}" class="uk-button uk-button-text uk-align-left title uk-text-capitalize uk-text-bold uk-margin-remove"> {{ course.name }} <span class="uk-text-muted">{{ course.grade.name | uppercase }}</span> </a> <div class="uk-align-right"> <ul class="uk-iconnav" uk-switcher="connect: .details-{{$index}}"> \x3c!-- <li><a href="#" class="uk-icon-link" uk-icon="icon: home"></a></li> --\x3e <li><a href="#" class="uk-icon-link" uk-icon="icon: info"></a></li> </ul> </div> </div> <div class="uk-card-body uk-padding-small"> <ul class="uk-switcher details-{{$index}} uk-margin"> <li> <p class="uk-text-truncate">{{ course.description }}</p> <ul class="uk-list uk-list-divider"> <li class="uk-clear-fix"> <span class="uk-align-left uk-margin-remove"> Students </span> <span class="uk-align-right uk-margin-remove"> {{ course.registrations.length }} </span> </li> <li class="uk-clear-fix" ng-if="false"> <span class="uk-align-left uk-margin-remove"> Class Average </span> <span class="uk-align-right uk-margin-remove"> {{ courseAverage(course) }} </span> </li> <li class="uk-clear-fix" ng-if="false"> <span class="uk-align-left uk-margin-remove"> Class Grade </span> <span class="uk-align-right uk-margin-remove uk-text-{{ courseGrade(course).className }}"> {{ courseGrade(course).grade }} </span> </li> </ul> </li> </ul> </div> </div> </div> </main> <div class="uk-width-1-1 uk-padding-small"> <button ng-if="coursesList.next_page_url" ng-click="next(coursesList.current_page + 1)" class="uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom">Load More <div uk-spinner ng-if="loading"></div></button> </div> </section> '),e.put("views/dashboard.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class="uk-padding-small"> <main class="uk-flex uk-flex-wrap uk-flex-wrap-around uk-grid-small" uk-grid> <overview class="uk-width-1-1 uk-hidden" ng-if="dashboardSettings.myCourses.display && user.user_access_level >= 3"></overview> <my-courses class="uk-width-1-3@l uk-width-1-2@s uk-width-1-2@xs" ng-if="dashboardSettings.myCourses.display && user.user_type.name === \'student\'"></my-courses> </main> </section>'),e.put("views/inventory.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class="uk-padding-small"> <div uk-grid> <div class="uk-width-1-1@s"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <p class="uk-text-capitalize uk-align-left title uk-margin-remove">Inventory</p> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a ng-click="add()" uk-icon="icon: plus"></a></li> <li><a ng-click="init()" uk-icon="icon: refresh"></a></li> </ul> </div> </div> <div class="uk-card-body uk-padding-remove"> <table class="uk-table uk-table-hover uk-table-divider uk-table-middle"> <thead> <tr> <th class="uk-table-shrink"><input class="uk-checkbox" type="checkbox"></th> <th>sku</th> <th class="uk-table-expand">description</th> <th class="uk-width-small">quantity</th> <th class="uk-width-small">unit price (&#8358;)</th> <th class="uk-width-small">total (&#8358;)</th> <th class="uk-width-small"></th> </tr> </thead> <tbody> <tr ng-repeat="item in inventoryData"> <td><input class="uk-checkbox" type="checkbox"></td> <td class="uk-text-capitalize">{{ item.sku }}</td> <td class="uk-text-capitalize">{{ item.description }}</td> <td> <input class="uk-input uk-form-blank" type="number" placeholder="quantity" ng-model="item.quantity" ng-disabled="true"> </td> <td> <input class="uk-input uk-form-blank" type="number" placeholder="price" ng-model="item.price" ng-disabled="true"> </td> <td> <input class="uk-input uk-form-blank" type="number" placeholder="price" ng-value="item.quantity * item.price" ng-disabled="true"> </td> <td> <ul class="uk-iconnav"> <li><a href="#" uk-icon="icon: file-edit" title="edit"></a></li> <li><a href="#" uk-icon="icon: trash" title="delete"></a></li> </ul> </td> </tr> </tbody> </table> </div> </div> </div> </div> </section>'),e.put("views/learning.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class="uk-padding-small"> <main class="uk-flex uk-flex-wrap uk-flex-wrap-around" uk-grid> <my-courses class="uk-width-1-2@m uk-width-1-4@s uk-width-1-1@xs" ng-show="dashboardSettings.myCourses.display"></my-courses> <activity-feed class="uk-width-1-4@s uk-width-1-1@xs" ng-show="dashboardSettings.activity.display"></activity-feed> </main> </section> '),e.put("views/login.html",'<section class="uk-cover-container uk-height-medium" uk-height-viewport> <img class="uk-hidden" src="https://burst.shopifycdn.com/photos/contact-flatlay_925x.jpg" alt="" uk-cover> <div class="uk-position-cover uk-overlay uk-overlay-default uk-flex uk-flex-center uk-flex-middle"> <div class="uk-card uk-card-default"> <div class="uk-card-header uk-text-center"> <span class="uk-text-bold">Login</span> </div> <form> <div class="uk-card-body"> <div class="uk-placeholder uk-text-center uk-text-danger uk-danger" ng-if="!loginLoading && loginError">{{ loginError }}</div> <span uk-spinner="ratio: 3" class="uk-width-1-1 uk-text-center" ng-if="loginLoading"></span> <div class="uk-margin" ng-show="!loginLoading"> <div class="uk-inline"> <span class="uk-form-icon" uk-icon="icon: user"></span> <input ng-class="loginError ? \'uk-form-danger\' : \'\'" class="uk-input" type="email" ng-model="email" name="email" required> </div> </div> <div class="uk-margin" ng-show="!loginLoading"> <div class="uk-inline"> <span class="uk-form-icon uk-form-icon" uk-icon="icon: lock"></span> <input ng-class="loginError ? \'uk-form-danger\' : \'\'" class="uk-input" type="password" ng-model="password" name="email" required> </div> </div> </div> <div class="uk-card-footer"> <div class="uk-margin"> <button class="uk-button uk-button-primary uk-width-1-1" ng-click="signin({ email:this.email , password: this.password },$event)">Login </button> </div> <div class="uk-margin"> <span class="uk-text-small uk-text-muted">Not registered ? <a ng-href="/#!/register" class="">create an account</a></span> </div> </div> </form> </div> </div> </section> '),e.put("views/main.html",'<section class="uk-height-viewport"> <main class="uk-flex uk-flex-wrap uk-flex-wrap-around" uk-grid> <div class="uk-width-1-1"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix"> <h3 class="uk-card-title uk-align-left title">{{ reports.title }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> </ul> </div> </div> <div class="uk-card-body"></div> </div> </div> <div class="uk-width-1-4@l uk-width-1-2@s uk-width-1-2@xs"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix"> <h3 class="uk-card-title uk-align-left title">{{ tasks.title }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a href="#" uk-icon="icon: plus"></a></li> </ul> </div> </div> <div class="uk-card-body"> <div class="uk-margin"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input class="uk-search-input uk-width-1-1" type="search" placeholder="Search..."> </form> </div> <ul class="uk-list uk-list-divider"> <li ng-repeat="task in tasks.data" class="uk-clearfix"> <a class="uk-align-left uk-margin-remove">{{ task.name }}</a> <div class="uk-align-right"> <ul class="uk-iconnav"> <li ng-if="!task.completed"><a href="#" uk-icon="icon: minus-circle" class="uk-text-danger"></a></li> <li><a href="#" uk-icon="icon: check" ng-disabled="task.completed" ng-class="task.completed ? \'uk-text-success\' : \'\'"></a></li> </ul> </div> </li> </ul> </div> </div> </div> <div class="uk-width-3-4@l uk-width-1-2@s uk-width-1-2@xs"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix"> <h3 class="uk-card-title uk-align-left title">{{ employees.title }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a href="#" uk-icon="icon: plus"></a></li> </ul> </div> </div> <div class="uk-card-body"> <div class="uk-margin"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input class="uk-search-input uk-width-1-1" type="search" placeholder="Search..."> </form> </div> <ul class="uk-list" uk-grid> <li class="uk-width-1-4@l uk-width-1-1@s" ng-repeat="employee in employees.data"> <article class="uk-comment uk-card uk-card-hover"> <header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove-bottom" uk-grid> <div class="uk-width-auto"> <img class="uk-comment-avatar" src="{{ employee.picture }}" width="60" height="60" alt=""> </div> <div class="uk-width-expand"> <h4 class="uk-comment-title uk-margin-remove"><a class="uk-link-reset" href="#">{{ employee.title }} {{ employee.fname }} {{ employee.lname }}</a></h4> <ul class="uk-padding-remove uk-margin-remove uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top uk-text-mute"> </ul> </div> </header> <div class="uk-comment-footer"> </div> </article> </li> </ul> </div> <div class="uk-card-footer"> <ul class="uk-pagination"> <li><a href="#"><span class="uk-margin-small-right" uk-pagination-previous></span> Previous</a></li> <li class="uk-margin-auto-left"><a href="#">Next <span class="uk-margin-small-left" uk-pagination-next></span></a></li> </ul>  </div> </div> </div> <div class="uk-width-3-4@l uk-width-1-2@s uk-width-1-2@xs"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix"> <h3 class="uk-card-title uk-align-left title">{{ activities.title }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> </ul> </div> </div> <div class="uk-card-body"></div> </div> </div> <div class="uk-width-1-4@l uk-width-1-2@s uk-width-1-2@xs"> <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix"> <h3 class="uk-card-title uk-align-left title">{{ requests.title }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a href="#" uk-icon="icon: plus"></a></li> </ul> </div> </div> <div class="uk-card-body"> <div class="uk-margin"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input class="uk-search-input uk-width-1-1" type="search" placeholder="Search..."> </form> </div> <table class="uk-table uk-table-middle uk-table-divider"> <thead> <tr class="uk-text-small"> <th class="uk-table-shrink"><input class="uk-checkbox" type="checkbox"></th> <th class="uk-width-small">Request</th> <th class="uk-table-shrink"></th> </tr> </thead> <tbody> <tr ng-repeat="req in requests.data" class="uk-text-small"> <td><input class="uk-checkbox" type="checkbox"></td> <td>{{ req.name }}</td> <td class="uk-clear-fix uk-text-right"> <ul class="uk-iconnav"> <li ng-if="req.approved"><a href="" uk-icon="icon: check" class="uk-text-success"></a></li> <li ng-if="!req.approved"><a href="" uk-icon="icon: ban" class="uk-text-danger"></a></li> <li><a href="" uk-icon="icon: pencil" class=""></a></li> </ul> </td> </tr> </tbody> </table> </div> </div> </div> </main> </section>'),e.put("views/partials/_breadcrumbs.html",'<section class="uk-navbar-container uk-dark" uk-navbar ng-controller="NavCtrl"> <ul class="uk-breadcrumb uk-margin"> <li><a href="#">Item</a></li> </ul> </section>'),e.put("views/partials/_navbar.html",'<nav class="uk-navbar-container uk-light" uk-navbar ng-controller="NavCtrl"> <a class="uk-navbar-item uk-logo uk-text-capitalize" href="#">{{ $root.user.tenant.name || \'nimbus learning\'}}</a> <div class="uk-navbar-right"> <div class="uk-navbar-item"> <ul class="uk-iconnav uk-clearfix"> <li ng-if="!auth.isAuthenticated()"><a ng-click="showLogin()" uk-icon="icon:  lock"></a></li> <li ng-if="auth.isAuthenticated()"><a ng-click="offcanvas(\'nav\').show()" uk-icon="icon:  more-vertical" data-target="#nav"></a></li> </ul> </div> </div> </nav>'),e.put("views/partials/_toolbar.html",'<section id="toolbar" class="uk-navbar-container uk-dark" uk-navbar ng-controller="NavCtrl"> <a class="uk-navbar-item uk-logo uk-text-capitalize">{{ pageTitle || route.current.$$route.controllerAs }}</a> <div class="uk-navbar-right"> <div class="uk-navbar-item"> <ul class="uk-iconnav uk-clearfix"> \x3c!--<li ng-if="route.current.$$route.controllerAs === \'dashboard\' || route.current.$$route.controllerAs === \'learning\'">\r\n\t\t\t\t\t<a ng-if="route.current.$$route.controllerAs === \'dashboard\'" uk-icon="icon:  settings" ng-click="showSettings(\'dashboard\')"></a>\r\n\t\t\t\t\t<a ng-if="route.current.$$route.controllerAs === \'learning\'" uk-icon="icon:  settings" ng-click="showSettings(\'learningDashboard\')"></a>\r\n\t\t\t\t</li>--\x3e <li ng-if="false"> <a ng-click="createCourse()" uk-icon="icon: plus" data-target="#create"></a> </li> <li ng-if="false"> <a ng-click="editCourse()" uk-icon="icon: file-edit" data-target="#create"></a> </li> </ul> </div> </div> </section>'),e.put("views/profile.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <div class="uk-section uk-section"> <div class="uk-container uk-width-1-2@l uk-width-2-3@m"> <div class="uk-text-center"> <img class="uk-border-circle" width="140" height="140" src="{{ profileData.image || \'https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png\' }}"> <p class="uk-text-lead\tuk-padding-bottom uk-text-capitalize">{{ profileData.firstname }} {{ profileData.lastname }}</p> </div> <ul class="uk-flex-center" uk-tab uk-switcher> <li ng-if="profileData.activities" class="uk-active"><a href="#"><span class="uk-margin-small-right" uk-icon="icon: commenting"></span> <span>Activity</span></a></li> <li ng-if="profileData.studentRecords"><a href="#"><span class="uk-margin-small-right" uk-icon="icon: list"></span> <span>Student Records</span></a></li> <li ng-if="profileData.employmentRecords"><a href="#"><span class="uk-margin-small-right" uk-icon="icon: list"></span> <span>Employment Records</span></a></li> </ul> <ul class="uk-switcher uk-margin"> <li ng-if="profileData.activities"> <div class=""> <ul class="uk-list"> <li class="uk-clear-fix" ng-repeat="activity in profileData.activities.data"> <article class="uk-comment"> <header class="uk-comment-header uk-grid-medium uk-flex-middle" uk-grid> <div class="uk-width-auto"> <img class="uk-comment-avatar" src="{{\tactivity.user.image\t|| \'https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png\' }}" width="50" height="50" alt=""> </div> <div class="uk-width-expand"> <h4 class="uk-comment-title uk-margin-remove uk-text-small"><a class="uk-link-reset uk-text-capitalize" href="#">{{ profileData.fname}}</a> {{\tactivity.meta.action.verb\t}} <a ng-click="modal.modal({ type : \'full\' , title  : activity.meta.subject.name , body : activity.meta.subject.description , image : activity.meta.subject.featuredImage },this)">{{\tactivity.meta.subject.type\t}}</a></h4> <span class="uk-text-muted uk-text-small">12 days ago</span> </div> </header> <div class="uk-comment-body"> <div class="uk-card uk-card-default"> <div class="uk-card-media-top" ng-if="activity.meta.subject.featuredImage"> <img src="{{ activity.meta.subject.featuredImage }}" alt="{{ activity.meta.subject.name }}" class="uk-width-1-1"> </div> <div class="uk-card-header uk-padding-small"> <div class="uk-grid-small uk-flex-middle" uk-grid> <div class="uk-width-expand"> <p class="uk-text-capitalize uk-margin-remove-bottom">{{ activity.meta.subject.name }}</p> </div> </div> </div> <div class="uk-card-body uk-padding-small" ng-if="activity.meta.subject.description"> <p class="uk-text-small">{{ activity.meta.subject.description }}</p> </div> <div class="uk-card-footer uk-padding-small"> <ul class="uk-iconnav toolbar uk-padding-remove"> <li><a href="#" uk-icon="icon: heart"></a></li> <li><a href="#" uk-icon="icon: comment"></a></li> <li><a href="#" uk-icon="icon: forward"></a></li> </ul> </div> </div> </div> </article> </li> <button ng-if="profileData.activities.next_page_url" ng-click="next(profileData.activities.current_page + 1)" class="uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom">Load More</button> </ul> </div> </li> <li ng-if="profileData.studentRecords">Student Records</li> <li ng-if="profileData.employmentRecords">Employment Records</li> </ul> </div> </div> '),e.put("views/register.html",'<section class="uk-container uk-width-1-3@s uk-section"> <div class="uk-card uk-card-default"> <div class="uk-card-header"> <h3 class="uk-card-title uk-text-center">Register</h3> </div> <div class="uk-card-body uk-padding-small"> <form class="uk-form-horizontal uk-margin-remove"> <div class="uk-margin"> <div class="uk-inline uk-width-1-1"> <span ng-class="errors.name[0] ? \'uk-text-danger\' : \'\'" class="uk-form-icon" uk-icon="icon: world"></span> <input ng-class="errors.name[0] ? \'uk-form-danger\' : \'\'" class="uk-input form-horizontal-text" type="text" placeholder="Company Name" ng-model="registration.name"> </div> <label ng-if="errors.name[0]" class="uk-text-small uk-text-danger">{{ errors.name[0] }}</label> </div> <div class="uk-margin"> <div class="uk-inline uk-width-1-1"> <span ng-class="errors.username[0] ? \'uk-text-danger\' : \'\'" class="uk-form-icon" uk-icon="icon: user"></span> <input ng-class="errors.username[0] ? \'uk-form-danger\' : \'\'" class="uk-input form-horizontal-text" type="text" placeholder="Username" ng-model="registration.username"> </div> <label ng-if="errors.username[0]" class="uk-text-small uk-text-danger">{{ errors.username[0] }}</label> </div> <div class="uk-margin"> <div class="uk-inline uk-width-1-1"> <span ng-class="errors.password[0] ? \'uk-text-danger\' : \'\'" class="uk-form-icon" uk-icon="icon: lock"></span> <input ng-class="errors.password[0] ? \'uk-form-danger\' : \'\'" class="uk-input form-horizontal-text" type="password" placeholder="Password" ng-model="registration.password"> </div> <label ng-if="errors.password[0]" class="uk-text-small uk-text-danger">{{ errors.password[0] }}</label> </div> <div class="uk-margin"> <div class="uk-inline uk-width-1-1"> <span ng-class="errors.password[0] ? \'uk-text-danger\' : \'\'" class="uk-form-icon" uk-icon="icon: lock"></span> <input ng-class="errors.password[0] ? \'uk-form-danger\' : \'\'" class="uk-input form-horizontal-text" type="password" placeholder="Password" ng-model="registration.password2"> </div> <label ng-if="errors.password[0]" class="uk-text-small uk-text-danger">{{ errors.password[0] }}</label> </div> <p class="uk-heading-line uk-text-center uk-text-capitalize uk-text-small"><span class="ng-binding">Account Details</span></p> <div class="uk-margin"> <div class="uk-inline uk-width-1-1"> <span ng-class="errors.email[0] ? \'uk-text-danger\' : \'\'" class="uk-form-icon" uk-icon="icon: mail"></span> <input ng-class="errors.email[0] ? \'uk-form-danger\' : \'\'" class="uk-input form-horizontal-text" type="email" placeholder="Email" ng-model="registration.email"> </div> <label ng-if="errors.email[0]" class="uk-text-small uk-text-danger">{{ errors.email[0] }}</label> </div> <div class="uk-margin"> <div class="uk-inline uk-width-1-1"> <span ng-class="errors.meta.phone[0] ? \'uk-text-danger\' : \'\'" class="uk-form-icon" uk-icon="icon: phone"></span> <input ng-class="errors.meta.phone[0] ? \'uk-form-danger\' : \'\'" class="uk-input form-horizontal-text" type="tel" placeholder="Phone" ng-model="registration.meta.phone"> <label ng-if="errors.meta.phone[0]" class="uk-text-small uk-text-danger">{{ errors.meta.phone[0] }}</label> </div> </div> <div class="uk-margin"> <button class="uk-button uk-button-primary uk-width-1-1" ng-click="registerUser(registration)">Plans <div ng-if="loading" uk-spinner></div></button> </div> </form> </div> </div> <div class="uk-margin uk-text-center"> <span class="uk-text-small uk-text-muted">Already have an account? <a ng-href="/#!/login" class="">Login</a></span> </div> </section>'),e.put("views/settings.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class="uk-padding-small"> <main class="uk-flex uk-flex-wrap uk-flex-wrap-around" uk-grid> <p>This is the settings view.</p> </main> </section> '),e.put("views/templates/activityFeed.html",' <div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <h3 class="uk-card-title uk-align-left title">{{ widgetTitle }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a ng-click="init()" uk-icon="icon: refresh"></a></li> </ul> </div> </div> <div class="uk-card-body"> <ul class="uk-list"> <li class="uk-clear-fix" ng-repeat="activity in activities"> <article class="uk-comment"> <header class="uk-comment-header uk-grid-medium uk-flex-middle" uk-grid> <div class="uk-width-auto"> <img class="uk-comment-avatar" src="{{\tactivity.user.image\t}}" width="50" height="50" alt=""> </div> <div class="uk-width-expand"> <h4 class="uk-comment-title uk-margin-remove uk-text-small"><a class="uk-link-reset" href="#">Anthony</a> {{\tactivity.meta.action.verb\t}} <a href="{{ activity.meta.subject.url }}">{{\tactivity.meta.subject.name\t}}</a></h4> <span class="uk-text-muted uk-text-small">12 days ago</span> </div> </header> <div class="uk-comment-body"> <div class="uk-card uk-card-default"> <div class="uk-card-media-top"> <img src="{{ activity.meta.subject.featuredImage }}" alt="" class="uk-width-1-1"> <div class="uk-overlay uk-overlay-primary uk-position-bottom uk-light"> <h3>{{ activity.meta.subject.name }}</h3> <p>{{ activity.meta.subject.description }}</p> <ul class="uk-iconnav toolbar uk-padding-remove"> <li><a href="#" uk-icon="icon: heart"></a></li> <li><a href="#" uk-icon="icon: comment"></a></li> <li><a href="#" uk-icon="icon: forward"></a></li> </ul> </div> </div> </div> </div> </article> </li> </ul> </div> </div>'),e.put("views/templates/courses.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <p class="uk-text-capitalize uk-align-left title">{{ widgetTitle }}</p> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a href="#" uk-icon="icon: plus"></a></li> </ul> </div> </div> <div class="uk-card-body uk-padding-small"> <div class="uk-margin"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input class="uk-search-input uk-width-1-1" type="search" placeholder="Search..."> </form> </div> <ul class="uk-list" uk-grid> <li class="uk-width-1-2@l uk-width-1-1@s" ng-repeat="course in course.data"> </li> </ul> </div> <div class="uk-card-footer"> <ul class="uk-pagination"> <li><a href="#"><span class="uk-margin-small-right" uk-pagination-previous></span> Previous</a></li> <li class="uk-margin-auto-left"><a href="#">Next <span class="uk-margin-small-left" uk-pagination-next></span></a></li> </ul> </div> </div> '),e.put("views/templates/employees.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <h3 class="uk-card-title uk-align-left title">{{ widgetTitle }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a href="#" uk-icon="icon: plus"></a></li> </ul> </div> </div> <div class="uk-card-body"> <div class="uk-margin"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input class="uk-search-input uk-width-1-1" type="search" placeholder="Search..."> </form> </div> <ul class="uk-list" uk-grid> <li class="uk-width-1-2@l uk-width-1-1@s" ng-repeat="employee in employees.data"> <article class="uk-comment uk-card uk-card-hover"> <header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove-bottom" uk-grid> <div class="uk-width-auto"> <img class="uk-comment-avatar" src="{{ employee.picture }}" width="60" height="60" alt=""> </div> <div class="uk-width-expand"> <h4 class="uk-comment-title uk-margin-remove"><a class="uk-link-reset" href="#">{{ employee.title }} {{ employee.fname }} {{ employee.lname }}</a></h4> <ul class="uk-padding-remove uk-margin-remove uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top uk-text-mute"> </ul> </div> </header> <div class="uk-comment-footer"> </div> </article> </li> </ul> </div> <div class="uk-card-footer"> <ul class="uk-pagination"> <li><a href="#"><span class="uk-margin-small-right" uk-pagination-previous></span> Previous</a></li> <li class="uk-margin-auto-left"><a href="#">Next <span class="uk-margin-small-left" uk-pagination-next></span></a></li> </ul> </div> </div> '),e.put("views/templates/myCourses.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <div class="uk-align-left uk-margin-remove uk-width-1-2"> <user-pill fname="{{user.firstname}}"></user-pill> </div> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a ng-click="init()" uk-icon="icon: refresh"></a></li> </ul> </div> </div> <div class="uk-card-body uk-text-center"> <div uk-spinner ng-if="loading"></div> <div ng-if="!loading"> <p class="uk-heading-line uk-text-center uk-text-capitalize uk-hidden"><span>{{ user.firstname }} {{ user.lastname }}</span></p> <ul class="uk-list uk-margin-remove uk-list-divider"> <li class="uk-clear-fix" ng-repeat="course in coursesData.data"> <span ng-if="user.user_type.name ===\'teacher\' && user.id === course.instructor.id" class="uk-align-left uk-margin-remove uk-text-capitalize"><a ng-href="#!/learning/course/{{ course.course.id }}">{{ course.course.name }}</a></span> <span ng-if="user.user_type.name == \'student\'" class="uk-align-left uk-margin-remove uk-text-capitalize">{{ course.course.name }}</span> <span ng-if="getTotal(course)" class="uk-align-right uk-margin-remove uk-text-{{getGrade(course).className}}">{{ getTotal(course) }}</span> </li> </ul> </div> <div ng-if="error && !loading" class="uk-placeholder uk-text-center uk-danger uk-text-danger uk-margin-remove uk-padding-small"> <span class="uk-margin-small-right" uk-icon="ban"></span> {{ error }} </div> <div ng-if="!coursesData.data && !loading && !error" class="uk-placeholder uk-text-center uk-danger uk-text-muted uk-margin-remove uk-padding-small"> <span class="uk-margin-small-right" uk-icon="ban"></span> {{ \'no courses found\' | uppercase }} </div> </div> </div> '),e.put("views/templates/reports.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <h3 class="uk-card-title uk-align-left title uk-text-capitalize">{{ widgetTitle }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> </ul> </div> </div> <div class="uk-card-body"></div> </div>'),e.put("views/templates/requests.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <h3 class="uk-card-title uk-align-left title">{{ widgetTitle }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a ng-click="showAddRequest()" uk-icon="icon: plus"></a></li> </ul> </div> </div> <div class="uk-card-body uk-padding-remove"> <div class="uk-margin uk-hidden"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input class="uk-search-input uk-width-1-1" type="search" placeholder="Search..."> </form> </div> <table class="uk-table uk-table-middle uk-table-divider uk-margin-remove uk-table-small"> <thead> <tr class="uk-text-small"> <th class="uk-table-shrink uk-hidden"><input class="uk-checkbox" type="checkbox" ng-click="selectAll(requests,$event)"></th> <th class="uk-width-expand">Description</th> <th class="uk-table-shrink"> <ul class="uk-iconnav uk-hidden"> <li ng-if="req.approved"><a href="" uk-icon="icon: check" class="uk-text-success" ng-click="completeSelected(selected)"></a></li> <li ng-if="!req.approved"><a href="" uk-icon="icon: trash" class="uk-text-danger" ng-click="removeSelected(selected)"></a></li> </ul> </th> </tr> </thead> <tbody> <tr ng-repeat="req in requests" class="uk-text-small"> <td class="uk-hidden"><input class="uk-checkbox" type="checkbox" ng-model="req.selected" ng-click="selectRequest($index,$event)">{{ selected }}</td> <td><a ng-click="showAddRequest(req)">{{ req.name }}</a></td> <td class="uk-clear-fix uk-text-right"> <ul class="uk-iconnav"> <li ng-if="req.approved"><a href="" uk-icon="icon: check" class="uk-text-success" ng-click="completeRequest($index)"></a></li> <li ng-if="!req.approved"><a href="" uk-icon="icon: trash" class="uk-text-danger" ng-click="removeRequest($index)"></a></li> </ul> </td> </tr> </tbody> </table> </div> </div>'),e.put("views/templates/studentList.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <div class="uk-align-left uk-margin-remove uk-width-1-2"> <a ng-href="#!/learning/course/{{ courseId }}" class="uk-button uk-button-text uk-align-left title uk-text-capitalize uk-text-bold uk-margin-remove" href="#!/learning/course/{{ courseId }}"> {{ pageTitle }} </a> <user-pill fname="instructor.fname" class="uk-hidden"></user-pill> </div> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a ng-click="init()" uk-icon="icon: refresh"></a></li> </ul> </div> </div> <div class="uk-card-body uk-overflow-auto uk-padding-remove"> <div class="uk-text-center uk-padding-small" ng-if="loadingHome"><div uk-spinner></div></div> <table class="uk-table uk-table-hover uk-table-middle uk-table-small uk-margin-remove" ng-if="!loadingHome && students"> <thead> <tr> <th class="uk-table-shrink"></th> <th class="uk-table-small">Name</th> <th class="uk-table-shrink uk-text-small">Grade</th> </tr> </thead> <tbody> <tr ng-repeat="student in students"> <td><img class="uk-preserve-width uk-border-circle" src="{{ student.user.image || \'https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png\' }}" width="40" alt=""></td> <td class="uk-table-link"> <a class="uk-link-reset uk-text-capitalize" ng-href="#!/profile/{{ student.user.id }}">{{ student.user.firstname }}, {{ student.user.lastname }}</a> </td> <td class="uk-text-center"><span class="uk-text-{{getGrade(student).className}}">{{getGrade(student).grade}}</span></td> </tr> </tbody> </table> </div> </div>'),e.put("views/templates/tasks.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <h3 class="uk-card-title uk-align-left title">{{ widgetTitle }}</h3> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a ng-click="showAddTask()" uk-icon="icon: plus"></a></li> <li><a ng-click="init()" uk-icon="icon: refresh"></a></li> </ul> </div> </div> <div class="uk-card-body uk-padding-remove"> <div class="uk-margin" ng-if="false"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input type="text" datasets="tasksDataset" options="tasksOptions" ng-model="search" editable="editable" sf-typeahead class="uk-search-input uk-width-1-1 typeahead" placeholder="Search..."> </form> </div> <table class="uk-table uk-table-middle uk-table-divider uk-margin-remove uk-table-small"> <thead> <tr class="uk-text-small"> <th class="uk-table-shrink uk-hidden"><input class="uk-checkbox" type="checkbox" ng-click="selectAll(tasks,$event)"></th> <th class="uk-width-small">Description</th> <th class="uk-table-shrink"> <ul class="uk-iconnav uk-hidden"> <li ng-if="!task.completed"><a ng-click="removeSelected($index)" uk-icon="icon: trash" class="uk-text-danger"></a></li> <li><a ng-click="completeSelected($index)" uk-icon="icon: check" ng-disabled="task.completed" ng-class="task.completed ? \'uk-text-success\' : \'\'"></a></li> </ul> </th> </tr> </thead> <div uk-spinner ng-if="loading"></div> <tbody ng-if="!loading"> <tr ng-repeat="task in data.data" class="uk-text-small"> <td class="uk-hidden"><input class="uk-checkbox" type="checkbox" ng-model="task.selected"></td> <td><a class="uk-align-left uk-margin-remove" ng-click="showAddTask(task)">{{ task.name }}</a></td> <td class="uk-clear-fix uk-text-right"> <ul class="uk-iconnav"> <li ng-if="!task.completed"><a ng-click="removeTask($index)" uk-icon="icon: trash" class="uk-text-danger"></a></li> <li><a ng-click="completeTask($index)" uk-icon="icon: check" ng-disabled="task.completed" ng-class="task.completed ? \'uk-text-success\' : \'\'"></a></li> </ul> </td> </tr> </tbody> </table> </div> <div class="uk-card-footer" ng-if="data.prev_page_url || data.next_page_url"> <ul class="uk-pagination"> <li ng-if="data.prev_page_url"><a ng-click="prev(data.current_page - 1)"><span class="uk-margin-small-right" uk-pagination-previous></span> Previous</a></li> <li ng-if="data.next_page_url" class="uk-margin-auto-left"><a ng-click="next(data.current_page + 1)">Next <span class="uk-margin-small-left" uk-pagination-next></span></a></li> </ul> </div> </div>'),e.put("views/templates/users.html",'<div class="uk-card uk-card-default widget"> <div class="uk-card-header uk-clear-fix uk-padding-small"> <p class="uk-text-capitalize uk-align-left title">{{ widgetTitle }}</p> <div class="uk-align-right"> <ul class="uk-iconnav toolbar"> <li><a href="#" uk-icon="icon: plus"></a></li> <li><a ng-click="init()" uk-icon="icon: refresh"></a></li> </ul> </div> </div> <div class="uk-card-body"> <div class="uk-margin"> <form class="uk-search uk-search-default uk-width-1-1"> <span uk-search-icon></span> <input type="text" datasets="userDataset" options="userOptions" ng-model="search" sf-typeahead class="uk-search-input uk-width-1-1 typeahead" placeholder="Search..."> </form> </div> <div class="uk-text-center" uk-spinner ng-if="loading"></div> <ul class="uk-list" uk-grid ng-if="!loading"> <li class="uk-width-1-2@l uk-width-1-1@s" ng-repeat="user in data.data"> <article class="uk-comment uk-card"> <header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove-bottom" uk-grid> <div class="uk-width-auto"> <img class="uk-comment-avatar uk-preserve-width uk-border-circle" src="{{ user.image_url }}" width="60" height="60" alt=""> </div> <div class="uk-width-expand"> <p class="uk-margin-remove"> <a class="uk-link-reset uk-text-capitalize" ng-href="#!/profile/{{ user.id }}"> {{ user.title }} {{ user.fname }} {{ user.lname }} </a> </p> <ul class="uk-padding-remove uk-margin-remove uk-comment-meta uk-subnav uk-subnav-divider uk-margin-remove-top uk-text-mute"> <li class="uk-text-capitalize">{{ user.meta.user_type }}</li> <li class="uk-text-capitalize">{{ user.meta.business_unit }}</li> </ul> </div> </header> <div class="uk-comment-footer"> </div> </article> </li> </ul> </div> <div class="uk-card-footer" ng-if="data.prev_page_url || data.next_page_url"> <ul class="uk-pagination"> <li ng-if="data.prev_page_url"><a ng-click="prev(data.current_page - 1)"><span class="uk-margin-small-right" uk-pagination-previous></span> Previous</a></li> <li ng-if="data.next_page_url" class="uk-margin-auto-left"><a ng-click="next(data.current_page + 1)">Next <span class="uk-margin-small-left" uk-pagination-next></span></a></li> </ul> </div> </div> '),e.put("views/tools.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section class="uk-padding-small"> <main> <import class="uk-width-1-1"></import> </main> </section> '),e.put("views/users.html",'<div ng-include="\'views/partials/_toolbar.html\'"></div> <section> <div class="uk-overflow-auto"> <table class="uk-table uk-table-hover uk-table-middle uk-table-divider uk-padding-small"> <thead> <tr> <th class="uk-table-shrink"></th> <th class="uk-table-expand">name</th> <th class="uk-width-small">type</th> <th class="uk-width-small">status</th> <th class="uk-width-small"></th> </tr> </thead> <tbody> <tr ng-repeat="user in usersList"> <td><img class="uk-preserve-width uk-border-circle" src="{{ user.image_url }}" width="40" alt=""></td> <td class="uk-table-link"> <a class="uk-link-reset uk-text-capitalize" ng-click="view(user)">{{ user.firstname }}, {{ user.lastname }}</a> </td> <td class="uk-table-link"> <a class="uk-link-reset uk-text-capitalize"><span class="uk-text-small uk-text-muted">{{ user.user_type.name }}</span></a> </td> <td class="uk-table-link"> <a class="uk-link-reset uk-text-capitalize"><span class="uk-text-small uk-text-muted">{{ user.account_status.name }}</span></a> </td> <td> <ul class="uk-iconnav" ng-if="false"> <li><a ng-click="edit(user)" uk-icon="icon: file-edit" title="edit"></a></li> </ul> </td> </tr> </tbody> </table> <button ng-if="usersData.next_page_url" ng-click="next(usersData.current_page + 1)" class="uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom">Load More <div uk-spinner ng-if="loading"></div></button> </div> </section> ')}]);